import{s as E,n as d,i as F}from"./scheduler.a70eca57.js";import{S,i as T,g as N,h as q,j as w,f as _,a as h,m as p,s as U,e as y,n as b,c as j,o as g,y as k}from"./index.fec47d3a.js";import{e as I,u as A,d as B}from"./each.13dd49ab.js";import{a as C,l as D}from"./localDb.52dd18f1.js";import{f as M}from"./utils.dec7ddc5.js";function $(r,o,e){const t=r.slice();return t[2]=o[e],t}function v(r){let o,e=r[1].length+"",t,n,i=[],u=new Map,a,f=I(r[1]);const c=l=>l[2]._id;for(let l=0;l<f.length;l+=1){let s=$(r,f,l),m=c(s);u.set(m,i[l]=L(m,s))}return{c(){o=p("Total: "),t=p(e),n=U();for(let l=0;l<i.length;l+=1)i[l].c();a=y()},l(l){o=b(l,"Total: "),t=b(l,e),n=j(l);for(let s=0;s<i.length;s+=1)i[s].l(l);a=y()},m(l,s){h(l,o,s),h(l,t,s),h(l,n,s);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(l,s);h(l,a,s)},p(l,s){s&2&&e!==(e=l[1].length+"")&&g(t,e),s&2&&(f=I(l[1]),i=A(i,s,c,1,l,f,u,a.parentNode,B,L,a,$))},d(l){l&&(_(o),_(t),_(n),_(a));for(let s=0;s<i.length;s+=1)i[s].d(l)}}}function L(r,o){let e,t=o[2].bookingId.customerInfo.firstName+"",n,i,u=o[2].bookingId.customerInfo.mobile+"",a;return{key:r,first:null,c(){e=N("li"),n=p(t),i=p(", "),a=p(u),this.h()},l(f){e=q(f,"LI",{});var c=w(e);n=b(c,t),i=b(c,", "),a=b(c,u),c.forEach(_),this.h()},h(){this.first=e},m(f,c){h(f,e,c),k(e,n),k(e,i),k(e,a)},p(f,c){o=f,c&2&&t!==(t=o[2].bookingId.customerInfo.firstName+"")&&g(n,t),c&2&&u!==(u=o[2].bookingId.customerInfo.mobile+"")&&g(a,u)},d(f){f&&_(e)}}}function z(r){let o,e=r[1]&&v(r);return{c(){o=N("ul"),e&&e.c()},l(t){o=q(t,"UL",{});var n=w(o);e&&e.l(n),n.forEach(_)},m(t,n){h(t,o,n),e&&e.m(o,null)},p(t,[n]){t[1]?e?e.p(t,n):(e=v(t),e.c(),e.m(o,null)):e&&(e.d(1),e=null)},i:d,o:d,d(t){t&&_(o),e&&e.d()}}}function G(r,o,e){let t,n,i=d,u=()=>(i(),i=F(t,a=>e(1,n=a)),t);return r.$$.on_destroy.push(()=>i()),u(e(0,t=C(async()=>{const a=await D.bookings.toArray();return M(a)}))),[t,n]}class Q extends S{constructor(o){super(),T(this,o,G,z,E,{})}}export{Q as F};
