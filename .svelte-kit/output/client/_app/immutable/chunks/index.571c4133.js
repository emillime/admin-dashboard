function V(){}function Qe(t,e){for(const n in e)t[n]=e[n];return t}function Wi(t){return t()}function Xn(){return Object.create(null)}function Ve(t){t.forEach(Wi)}function $t(t){return typeof t=="function"}function pe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function zn(t,...e){if(t==null)return V;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ro(t){let e;return zn(t,n=>e=n)(),e}function L(t,e,n){t.$$.on_destroy.push(zn(e,n))}function ao(t,e,n,i){if(t){const o=Ei(t,e,n,i);return t[0](o)}}function Ei(t,e,n,i){return t[1]&&i?Qe(n.ctx.slice(),t[1](i(e))):n.ctx}function co(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const r=[],l=Math.max(e.dirty.length,o.length);for(let s=0;s<l;s+=1)r[s]=e.dirty[s]|o[s];return r}return e.dirty|o}return e.dirty}function uo(t,e,n,i,o,r,l){const s=co(e,i,o,r);if(s){const a=Ei(e,n,i,l);t.p(a,s)}}function fo(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Nn(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function qt(t){return t??""}function fe(t,e,n=e){return t.set(n),e}function Ge(t){return t&&$t(t.destroy)?t.destroy:V}function Y(t,e){t.appendChild(e)}function E(t,e,n){t.insertBefore(e,n||null)}function S(t){t.parentNode.removeChild(t)}function it(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function M(t){return document.createElement(t)}function gn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function je(t){return document.createTextNode(t)}function ne(){return je(" ")}function Ie(){return je("")}function Be(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ho(t){return Array.from(t.childNodes)}function $e(t,e){e=""+e,t.data!==e&&(t.data=e)}function C(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}let jt;function go(){if(jt===void 0){jt=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{jt=!0}}return jt}function qn(t,e){const n=getComputedStyle(t),i=(parseInt(n.zIndex)||0)-1;n.position==="static"&&(t.style.position="relative");const o=M("iframe");o.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${i};`),o.setAttribute("aria-hidden","true"),o.tabIndex=-1;const r=go();let l;return r?(o.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=Be(window,"message",s=>{s.source===o.contentWindow&&e()})):(o.src="about:blank",o.onload=()=>{l=Be(o.contentWindow,"resize",e)}),Y(t,o),()=>{(r||l&&o.contentWindow)&&l(),S(o)}}function X(t,e,n){t.classList[n?"add":"remove"](e)}function mo(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}class ot{constructor(e=null){this.a=e,this.e=this.n=null}m(e,n,i=null){this.e||(this.e=M(n.nodeName),this.t=n,this.h(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)E(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(S)}}let Gt;function pn(t){Gt=t}function Wt(){if(!Gt)throw new Error("Function called outside component initialization");return Gt}function en(t){Wt().$$.on_mount.push(t)}function wo(t){Wt().$$.on_destroy.push(t)}function Et(){const t=Wt();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const o=mo(e,n);i.slice().forEach(r=>{r.call(t,o)})}}}function It(t,e){Wt().$$.context.set(t,e)}function ie(t){return Wt().$$.context.get(t)}function vn(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i(e))}const zt=[],tt=[],Xt=[],Gn=[],Hi=Promise.resolve();let yn=!1;function Oi(){yn||(yn=!0,Hi.then(Pi))}function mn(){return Oi(),Hi}function Mt(t){Xt.push(t)}let wn=!1;const bn=new Set;function Pi(){if(!wn){wn=!0;do{for(let t=0;t<zt.length;t+=1){const e=zt[t];pn(e),bo(e.$$)}for(zt.length=0;tt.length;)tt.pop()();for(let t=0;t<Xt.length;t+=1){const e=Xt[t];bn.has(e)||(bn.add(e),e())}Xt.length=0}while(zt.length);for(;Gn.length;)Gn.pop()();yn=!1,wn=!1,bn.clear()}}function bo(t){if(t.fragment!==null){t.update(),Ve(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Mt)}}const Nt=new Set;let nt;function We(){nt={r:0,c:[],p:nt}}function Ee(){nt.r||Ve(nt.c),nt=nt.p}function B(t,e){t&&t.i&&(Nt.delete(t),t.i(e))}function U(t,e,n,i){if(t&&t.o){if(Nt.has(t))return;Nt.add(t),nt.c.push(()=>{Nt.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}function Tt(t,e){U(t,1,1,()=>{e.delete(t.key)})}function Ct(t,e,n,i,o,r,l,s,a,u,d,h){let z=t.length,k=r.length,p=z;const f={};for(;p--;)f[t[p].key]=p;const w=[],b=new Map,_=new Map;for(p=k;p--;){const D=h(o,r,p),x=n(D);let I=l.get(x);I?i&&I.p(D,e):(I=u(x,D),I.c()),b.set(x,w[p]=I),x in f&&_.set(x,Math.abs(p-f[x]))}const j=new Set,A=new Set;function W(D){B(D,1),D.m(s,d),l.set(D.key,D),d=D.first,k--}for(;z&&k;){const D=w[k-1],x=t[z-1],I=D.key,q=x.key;D===x?(d=D.first,z--,k--):b.has(q)?!l.has(I)||j.has(I)?W(D):A.has(q)?z--:_.get(I)>_.get(q)?(A.add(I),W(D)):(j.add(q),z--):(a(x,l),z--)}for(;z--;){const D=t[z];b.has(D.key)||a(D,l)}for(;k;)W(w[k-1]);return w}function wt(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const l=t[r],s=e[r];if(s){for(const a in l)a in s||(i[a]=1);for(const a in s)o[a]||(n[a]=s[a],o[a]=1);t[r]=s}else for(const a in l)o[a]=1}for(const l in i)l in n||(n[l]=void 0);return n}function bt(t){return typeof t=="object"&&t!==null?t:{}}function ke(t){t&&t.c()}function de(t,e,n){const{fragment:i,on_mount:o,on_destroy:r,after_update:l}=t.$$;i&&i.m(e,n),Mt(()=>{const s=o.map(Wi).filter($t);r?r.push(...s):Ve(s),t.$$.on_mount=[]}),l.forEach(Mt)}function he(t,e){const n=t.$$;n.fragment!==null&&(Ve(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function _o(t,e){t.$$.dirty[0]===-1&&(zt.push(t),Oi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ze(t,e,n,i,o,r,l=[-1]){const s=Gt;pn(t);const a=e.props||{},u=t.$$={fragment:null,ctx:null,props:r,update:V,not_equal:o,bound:Xn(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:Xn(),dirty:l};let d=!1;if(u.ctx=n?n(t,a,(h,z,...k)=>{const p=k.length?k[0]:z;return u.ctx&&o(u.ctx[h],u.ctx[h]=p)&&(u.bound[h]&&u.bound[h](p),d&&_o(t,h)),z}):[],u.update(),d=!0,Ve(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const h=ho(e.target);u.fragment&&u.fragment.l(h),h.forEach(S)}else u.fragment&&u.fragment.c();e.intro&&B(t.$$.fragment),de(t,e.target,e.anchor),Pi()}pn(s)}class Te{$destroy(){he(this,1),this.$destroy=V}$on(e,n){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(){}}const ht=[];function ko(t,e){return{subscribe:ye(t,e).subscribe}}function ye(t,e=V){let n;const i=[];function o(s){if(pe(t,s)&&(t=s,n)){const a=!ht.length;for(let u=0;u<i.length;u+=1){const d=i[u];d[1](),ht.push(d,t)}if(a){for(let u=0;u<ht.length;u+=2)ht[u][0](ht[u+1]);ht.length=0}}}function r(s){o(s(t))}function l(s,a=V){const u=[s,a];return i.push(u),i.length===1&&(n=e(o)||V),s(t),()=>{const d=i.indexOf(u);d!==-1&&i.splice(d,1),i.length===0&&(n(),n=null)}}return{set:o,update:r,subscribe:l}}function Qt(t,e,n){const i=!Array.isArray(t),o=i?[t]:t,r=e.length<2;return ko(n,l=>{let s=!1;const a=[];let u=0,d=V;const h=()=>{if(u)return;d();const k=e(i?a[0]:a,l);r?l(k):d=$t(k)?k:V},z=o.map((k,p)=>zn(k,f=>{a[p]=f,u&=~(1<<p),s&&h()},()=>{u|=1<<p}));return s=!0,h(),function(){Ve(z),d()}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function po(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function Tn(){const{subscribe:t,set:e,update:n}=ye({ids:[],entities:{}});return{set:e,_update:n,subscribe:t,add:i=>n(({ids:o,entities:r})=>({ids:[...o,i.model.id],entities:Object.assign(Object.assign({},r),{[i.model.id]:i})})),delete:i=>n(o=>{const r=o.entities,l=i;r[l];const s=po(r,[typeof l=="symbol"?l:l+""]);return{ids:o.ids.filter(a=>a!==i),entities:s}}),deleteAll:i=>n(o=>{const r=Object.assign({},o.entities),l={};return i.forEach(s=>{delete r[s],l[s]=!0}),{ids:o.ids.filter(s=>!l[s]),entities:r}}),update:i=>n(({ids:o,entities:r})=>({ids:o,entities:Object.assign(Object.assign({},r),{[i.model.id]:i})})),upsert:i=>n(({ids:o,entities:r})=>({ids:o.indexOf(i.model.id)!==-1?o:[...o,i.model.id],entities:Object.assign(Object.assign({},r),{[i.model.id]:i})})),upsertAll:i=>n(o=>{const r=Object.assign({},o.entities),l=[...o.ids];return i.forEach(s=>{r[s.model.id]||l.push(s.model.id),r[s.model.id]=s}),{ids:l,entities:r}}),addAll:i=>{const o=[],r={};for(const l of i)o.push(l.model.id),r[l.model.id]=l;e({ids:o,entities:r})},refresh:()=>n(i=>Object.assign({},i))}}const Se=Tn(),qe=Tn(),Vt=Tn(),Li=Cn(Se),vo=Cn(qe),yo=Cn(Vt),zo=Qt(Li,t=>t.reduce((e,n)=>(e[n.model.resourceId]||(e[n.model.resourceId]=[]),e[n.model.resourceId].push(n.model.id),e),{}));function Cn(t){return Qt(t,({ids:e,entities:n})=>e.map(i=>n[i]))}function To(t){return t.which===1}function mt(t,e){const n=t.getBoundingClientRect(),i=e.clientX-n.left,o=e.clientY-n.top;return{x:i,y:o}}function Co(t,e,n,i,o){t.addEventListener(e,function r(l){t.removeEventListener(e,r,o),n.apply(this,arguments,i)})}function Dt(t,e=document.body){e.style.cursor=t}const Do=2,Ro=2;class tn{constructor(e,n){this.dragging=!1,this.resizing=!1,this.resizeTriggered=!1,this.onmousedown=i=>{if(!To(i))return;i.stopPropagation(),i.preventDefault();const o=this.dragAllowed,r=this.resizeAllowed;if(o||r){const l=this.settings.getX(i),s=this.settings.getY(i),a=this.settings.getWidth();this.initialX=i.clientX,this.initialY=i.clientY,this.mouseStartPosX=mt(this.settings.container,i).x-l,this.mouseStartPosY=mt(this.settings.container,i).y-s,this.mouseStartRight=l+a,r&&this.mouseStartPosX<this.settings.resizeHandleWidth&&(this.direction="left",this.resizing=!0),r&&this.mouseStartPosX>a-this.settings.resizeHandleWidth&&(this.direction="right",this.resizing=!0),o&&!this.resizing&&(this.dragging=!0),(this.dragging||this.resizing)&&this.settings.onDown&&this.settings.onDown({mouseEvent:i,x:l,width:a,y:s,resizing:this.resizing,dragging:this.dragging}),window.addEventListener("mousemove",this.onmousemove,!1),Co(window,"mouseup",this.onmouseup)}},this.onmousemove=i=>{if(!this.resizeTriggered)if(Math.abs(i.clientX-this.initialX)>Do||Math.abs(i.clientY-this.initialY)>Ro)this.resizeTriggered=!0;else return;if(i.preventDefault(),this.resizing){const o=mt(this.settings.container,i),r=this.settings.getX(i),l=this.settings.getWidth();let s,a;this.direction==="left"?o.x>r+l?(this.direction="right",s=this.mouseStartRight,a=this.mouseStartRight-o.x,this.mouseStartRight=this.mouseStartRight+l):(s=o.x,a=this.mouseStartRight-o.x):this.direction==="right"&&(o.x<=r?(this.direction="left",s=o.x,a=r-o.x,this.mouseStartRight=r):(s=r,a=o.x-r)),this.settings.onResize&&this.settings.onResize({mouseEvent:i,x:s,width:a})}if(this.dragging&&this.settings.onDrag){const o=mt(this.settings.container,i);this.settings.onDrag({mouseEvent:i,x:o.x-this.mouseStartPosX,y:o.y-this.mouseStartPosY})}},this.onmouseup=i=>{const o=this.settings.getX(i),r=this.settings.getY(i),l=this.settings.getWidth();this.settings.onMouseUp&&this.settings.onMouseUp(),this.resizeTriggered&&this.settings.onDrop&&this.settings.onDrop({mouseEvent:i,x:o,y:r,width:l,dragging:this.dragging,resizing:this.resizing}),this.dragging=!1,this.resizing=!1,this.direction=null,this.resizeTriggered=!1,window.removeEventListener("mousemove",this.onmousemove,!1)},this.settings=n,this.node=e,e.addEventListener("mousedown",this.onmousedown,!1)}get dragAllowed(){return typeof this.settings.dragAllowed=="function"?this.settings.dragAllowed():this.settings.dragAllowed}get resizeAllowed(){return typeof this.settings.resizeAllowed=="function"?this.settings.resizeAllowed():this.settings.resizeAllowed}destroy(){this.node.removeEventListener("mousedown",this.onmousedown,!1),this.node.removeEventListener("mousemove",this.onmousemove,!1),this.node.removeEventListener("mouseup",this.onmouseup,!1)}}class Mo{constructor(e){this.handlerMap={},this.register("row",n=>{let o=document.elementsFromPoint(n.clientX,n.clientY).find(r=>!!r.getAttribute("data-row-id"));if(o!==void 0){const r=o.getAttribute("data-row-id"),{entities:l}=ro(e),s=l[r];if(s.model.enableDragging)return s}return null})}register(e,n){this.handlerMap[e]=n}getTarget(e,n){var i=this.handlerMap[e];if(i)return i(n)}}class So{constructor(e){this.columnService=e}createTask(e){e.amountDone=e.amountDone||0,e.classes=e.classes||"",e.from=e.from||null,e.to=e.to||null,e.label=e.label||void 0,e.html=e.html||void 0,e.showButton=e.showButton||!1,e.buttonClasses=e.buttonClasses||"",e.buttonHtml=e.buttonHtml||"",e.enableDragging=e.enableDragging===void 0?!0:e.enableDragging;const n=this.columnService.getPositionByDate(e.from)|0,i=this.columnService.getPositionByDate(e.to)|0;return{model:e,left:n,width:i-n,height:this.getHeight(e),top:this.getPosY(e),reflections:[]}}createTasks(e){return e.map(n=>this.createTask(n))}row(e){return this.rowEntities[e]}getHeight(e){return this.row(e.resourceId).height-2*this.rowPadding}getPosY(e){return this.row(e.resourceId).y+this.rowPadding}}function Kt(t,e,n){const i=`reflected-task-${t.model.id}-${e.model.id}`,o=Object.assign(Object.assign({},t.model),{resourceId:e.model.id,id:i,enableDragging:!1});return Object.assign(Object.assign({},t),{model:o,top:e.y+n.rowPadding,reflected:!0,reflectedOnParent:!1,reflectedOnChild:!0,originalId:t.model.id})}function ge(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}var Wo='.sg-label-bottom.svelte-6l5eiz{position:absolute;top:calc(100% + 10px);color:#888}.debug.svelte-6l5eiz{position:absolute;top:-10px;right:0;font-size:8px;color:black}.sg-task.svelte-6l5eiz{position:absolute;white-space:nowrap;transition:background-color 0.2s, opacity 0.2s;pointer-events:all}.sg-task{background:rgb(116, 191, 255)}.sg-task-background.svelte-6l5eiz{position:absolute;height:100%;top:0}.sg-task-content.svelte-6l5eiz{position:absolute;height:100%;top:0;padding-left:14px;font-size:14px;display:flex;align-items:center;justify-content:flex-start}.sg-task.svelte-6l5eiz:not(.moving){transition:transform 0.2s, background-color 0.2s, width 0.2s}.sg-task.moving.svelte-6l5eiz{z-index:1;opacity:0.5}.sg-task.dragging-enabled.svelte-6l5eiz:hover::before{content:"";width:4px;height:50%;top:25%;position:absolute;border-style:solid;border-color:rgba(255, 255, 255, 0.5);cursor:ew-resize;margin-left:3px;left:0;border-width:0 1px;z-index:1}.sg-task.dragging-enabled.svelte-6l5eiz:hover::after{content:"";width:4px;height:50%;top:25%;position:absolute;border-style:solid;border-color:rgba(255, 255, 255, 0.5);cursor:ew-resize;margin-right:3px;right:0;border-width:0 1px;z-index:1}.sg-task.selected.svelte-6l5eiz{outline:2px solid rgba(3, 169, 244, 0.5);outline-offset:3px;z-index:1}.sg-task-reflected.svelte-6l5eiz{opacity:0.5}.sg-task-background.svelte-6l5eiz{background:rgba(0, 0, 0, 0.2)}.sg-task{color:white;background:rgb(116, 191, 255)}.sg-task:hover{background:rgb(98, 161, 216)}.sg-task.selected{background:rgb(69, 112, 150)}';ge(Wo);function Qn(t){let e;return{c(){e=M("div"),y(e,"class","sg-task-background svelte-6l5eiz"),C(e,"width",t[0].amountDone+"%")},m(n,i){E(n,e,i)},p(n,i){i[0]&1&&C(e,"width",n[0].amountDone+"%")},d(n){n&&S(e)}}}function Eo(t){let e=t[0].label+"",n;return{c(){n=je(e)},m(i,o){E(i,n,o)},p(i,o){o[0]&1&&e!==(e=i[0].label+"")&&$e(n,e)},d(i){i&&S(n)}}}function Ho(t){let e,n=t[9](t[0])+"";return{c(){e=new ot(null)},m(i,o){e.m(n,i,o)},p(i,o){o[0]&1&&n!==(n=i[9](i[0])+"")&&e.p(n)},d(i){i&&e.d()}}}function Oo(t){let e,n=t[0].html+"";return{c(){e=new ot(null)},m(i,o){e.m(n,i,o)},p(i,o){o[0]&1&&n!==(n=i[0].html+"")&&e.p(n)},d(i){i&&e.d()}}}function Vn(t){let e,n=t[0].buttonHtml+"",i,o,r;return{c(){e=M("span"),y(e,"class",i="sg-task-button "+t[0].buttonClasses+" svelte-6l5eiz")},m(l,s){E(l,e,s),e.innerHTML=n,o||(r=Be(e,"click",t[3]),o=!0)},p(l,s){s[0]&1&&n!==(n=l[0].buttonHtml+"")&&(e.innerHTML=n),s[0]&1&&i!==(i="sg-task-button "+l[0].buttonClasses+" svelte-6l5eiz")&&y(e,"class",i)},d(l){l&&S(e),o=!1,r()}}}function Kn(t){let e,n=t[0].labelBottom+"",i;return{c(){e=M("label"),i=je(n),y(e,"class","sg-label-bottom svelte-6l5eiz")},m(o,r){E(o,e,r),Y(e,i)},p(o,r){r[0]&1&&n!==(n=o[0].labelBottom+"")&&$e(i,n)},d(o){o&&S(e)}}}function Po(t){let e,n,i,o,r,l,s,a,u,d,h=t[0].amountDone&&Qn(t);function z(b,_){return b[0].html?Oo:b[9]?Ho:Eo}let k=z(t),p=k(t),f=t[0].showButton&&Vn(t),w=t[0].labelBottom&&Kn(t);return{c(){e=M("div"),h&&h.c(),n=ne(),i=M("div"),p.c(),o=ne(),f&&f.c(),r=ne(),w&&w.c(),y(i,"class","sg-task-content svelte-6l5eiz"),y(e,"data-task-id",l=t[0].id),y(e,"class",s="sg-task "+t[0].classes+" svelte-6l5eiz"),C(e,"width",t[6].width+"px"),C(e,"height",t[1]+"px"),C(e,"transform","translate("+t[6].x+"px, "+t[6].y+"px)"),X(e,"moving",t[4]||t[5]),X(e,"selected",t[7]),X(e,"animating",Zn),X(e,"sg-task-reflected",t[2]),X(e,"dragging-enabled",t[8].model.enableDragging)},m(b,_){E(b,e,_),h&&h.m(e,null),Y(e,n),Y(e,i),p.m(i,null),Y(i,o),f&&f.m(i,null),Y(e,r),w&&w.m(e,null),u||(d=[Be(e,"dblclick",t[34]),Ge(t[12].call(null,e)),Ge(a=t[13].call(null,e,t[0]))],u=!0)},p(b,_){b[0].amountDone?h?h.p(b,_):(h=Qn(b),h.c(),h.m(e,n)):h&&(h.d(1),h=null),k===(k=z(b))&&p?p.p(b,_):(p.d(1),p=k(b),p&&(p.c(),p.m(i,o))),b[0].showButton?f?f.p(b,_):(f=Vn(b),f.c(),f.m(i,null)):f&&(f.d(1),f=null),b[0].labelBottom?w?w.p(b,_):(w=Kn(b),w.c(),w.m(e,null)):w&&(w.d(1),w=null),_[0]&1&&l!==(l=b[0].id)&&y(e,"data-task-id",l),_[0]&1&&s!==(s="sg-task "+b[0].classes+" svelte-6l5eiz")&&y(e,"class",s),_[0]&64&&C(e,"width",b[6].width+"px"),_[0]&2&&C(e,"height",b[1]+"px"),_[0]&64&&C(e,"transform","translate("+b[6].x+"px, "+b[6].y+"px)"),a&&$t(a.update)&&_[0]&1&&a.update.call(null,b[0]),_[0]&49&&X(e,"moving",b[4]||b[5]),_[0]&129&&X(e,"selected",b[7]),_[0]&1&&X(e,"animating",Zn),_[0]&5&&X(e,"sg-task-reflected",b[2]),_[0]&257&&X(e,"dragging-enabled",b[8].model.enableDragging)},i:V,o:V,d(b){b&&S(e),h&&h.d(),p.d(),f&&f.d(),w&&w.d(),u=!1,Ve(d)}}}let Zn=!0;function Lo(t,e,n){let i,o,r,l;L(t,qe,R=>n(18,i=R)),L(t,Se,R=>n(19,o=R));let{model:s}=e,{height:a}=e,{left:u}=e,{top:d}=e,{width:h}=e,{reflected:z=!1}=e,k=!1,p=!1,f={x:u,y:d,width:h};function w(R,Re,Oe){!k&&!p&&(n(6,f.x=R,f),n(6,f.y=Re,f),n(6,f.width=Oe,f))}const{dimensionsChanged:b}=ie("dimensions"),{rowContainer:_}=ie("gantt"),{taskContent:j,resizeHandleWidth:A,rowPadding:W,onTaskButtonClick:D,reflectOnParentRows:x,reflectOnChildRows:I,taskElementHook:q}=ie("options");L(t,W,R=>n(20,r=R));const{dndManager:le,api:oe,utils:ee,selectionManager:Z,columnService:te}=ie("services");function Ce(R){const Re=$=>{let Pe=!0;const we=i.entities[s.resourceId];if($.dragging){const re=le.getTarget("row",$.mouseEvent);re?(n(0,s.resourceId=re.model.id,s),oe.tasks.raise.switchRow(this,re,we)):Pe=!1}n(4,k=n(5,p=!1));const Me=o.entities[s.id];if(Pe){const re=s.from,Q=s.to,Ye=n(0,s.from=ee.roundTo(te.getDateByPosition($.x)),s),g=n(0,s.to=ee.roundTo(te.getDateByPosition($.x+$.width)),s),m=te.getPositionByDate(Ye)|0,H=te.getPositionByDate(g)|0,J=i.entities[s.resourceId],O=m,He=H-m,st=r+J.y;w(O,st,He);const ae=Object.assign(Object.assign({},Me),{left:O,width:He,top:st,model:s}),lt=re!=Ye||Q!=g||we&&we.model.id!==J.model.id;lt&&oe.tasks.raise.change({task:ae,sourceRow:we,targetRow:J}),Se.update(ae),lt&&oe.tasks.raise.changed({task:ae,sourceRow:we,targetRow:J}),ae.reflections&&Se.deleteAll(ae.reflections);const Ae=[];if(I&&J.allChildren){ae.reflections||(ae.reflections=[]);const Fe={rowPadding:r};J.allChildren.forEach(xe=>{const Xe=Kt(ae,xe,Fe);ae.reflections.push(Xe.model.id),Ae.push(Xe)})}if(x&&J.allParents.length>0){ae.reflections||(ae.reflections=[]);const Fe={rowPadding:r};J.allParents.forEach(xe=>{const Xe=Kt(ae,xe,Fe);ae.reflections.push(Xe.model.id),Ae.push(Xe)})}Ae.length>0&&Se.upsertAll(Ae),!(J.allParents.length>0)&&!J.allChildren&&(ae.reflections=null)}else n(6,f.x=Me.left,f),n(6,f.width=Me.width,f),n(6,f.y=Me.top,f)},Oe=new tn(R,{onDown:$=>{$.dragging&&Dt("move"),$.resizing&&Dt("e-resize")},onMouseUp:()=>{Dt("default")},onResize:$=>{n(6,f.x=$.x,f),n(6,f.width=$.width,f),n(5,p=!0)},onDrag:$=>{n(6,f.x=$.x,f),n(6,f.y=$.y,f),n(4,k=!0)},dragAllowed:()=>De.model.enableDragging&&s.enableDragging,resizeAllowed:()=>De.model.enableDragging&&s.enableDragging,onDrop:Re,container:_,resizeHandleWidth:A,getX:()=>f.x,getY:()=>f.y,getWidth:()=>f.width});return{destroy:()=>Oe.destroy()}}function me(R,Re){if(q)return q(R,Re)}function T(R){D&&D(s)}let K=Z.selection;L(t,K,R=>n(21,l=R));let ue=!1,De;const Ue=()=>{oe.tasks.raise.dblclicked(s)};return t.$set=R=>{"model"in R&&n(0,s=R.model),"height"in R&&n(1,a=R.height),"left"in R&&n(15,u=R.left),"top"in R&&n(16,d=R.top),"width"in R&&n(17,h=R.width),"reflected"in R&&n(2,z=R.reflected)},t.$$.update=()=>{t.$$.dirty[0]&229376&&w(u,d,h),t.$$.dirty[0]&2097153&&n(7,ue=l.indexOf(s.id)!==-1),t.$$.dirty[0]&262145&&n(8,De=i.entities[s.resourceId])},[s,a,z,T,k,p,f,ue,De,j,W,oe,Ce,me,K,u,d,h,i,o,r,l,w,b,_,A,D,x,I,q,le,ee,Z,te,Ue]}class Yo extends Te{constructor(e){super(),ze(this,e,Lo,Po,pe,{model:0,height:1,left:15,top:16,width:17,reflected:2,onclick:3},[-1,-1])}get onclick(){return this.$$.ctx[3]}}var Ao=".sg-row.svelte-7u5y5s{position:relative;width:100%;box-sizing:border-box}";ge(Ao);function Jn(t){let e,n=t[0].model.contentHtml+"";return{c(){e=new ot(null)},m(i,o){e.m(n,i,o)},p(i,o){o&1&&n!==(n=i[0].model.contentHtml+"")&&e.p(n)},d(i){i&&e.d()}}}function Bo(t){let e,n,i,o=t[0].model.contentHtml&&Jn(t);return{c(){e=M("div"),o&&o.c(),y(e,"class",n="sg-row "+t[0].model.classes+" svelte-7u5y5s"),y(e,"data-row-id",i=t[0].model.id),C(e,"height",t[3]+"px"),X(e,"sg-hover",t[1]==t[0].model.id),X(e,"sg-selected",t[2]==t[0].model.id)},m(r,l){E(r,e,l),o&&o.m(e,null)},p(r,[l]){r[0].model.contentHtml?o?o.p(r,l):(o=Jn(r),o.c(),o.m(e,null)):o&&(o.d(1),o=null),l&1&&n!==(n="sg-row "+r[0].model.classes+" svelte-7u5y5s")&&y(e,"class",n),l&1&&i!==(i=r[0].model.id)&&y(e,"data-row-id",i),l&8&&C(e,"height",r[3]+"px"),l&3&&X(e,"sg-hover",r[1]==r[0].model.id),l&5&&X(e,"sg-selected",r[2]==r[0].model.id)},i:V,o:V,d(r){r&&S(e),o&&o.d()}}}function jo(t,e,n){let i,o,r,{row:l}=e;const{rowHeight:s}=ie("options");L(t,s,d=>n(3,r=d));const{hoveredRow:a,selectedRow:u}=ie("gantt");return L(t,a,d=>n(1,i=d)),L(t,u,d=>n(2,o=d)),t.$set=d=>{"row"in d&&n(0,l=d.row)},[l,i,o,r,s,a,u]}class Io extends Te{constructor(e){super(),ze(this,e,jo,Bo,pe,{row:0})}}var Uo=".sg-milestone.svelte-10k3w4l.svelte-10k3w4l{position:absolute;top:0;bottom:0;white-space:nowrap;height:20px;width:20px;min-width:40px;margin-left:-20px;display:flex;align-items:center;flex-direction:column;transition:background-color 0.2s, opacity 0.2s}.sg-milestone.svelte-10k3w4l .inside.svelte-10k3w4l{position:relative}.sg-milestone.svelte-10k3w4l .inside.svelte-10k3w4l:before{position:absolute;top:0;left:0;content:' ';height:28px;width:28px;transform-origin:0 0;transform:rotate(45deg);background-color:#feac31;border-color:#feac31}.sg-milestone.svelte-10k3w4l.svelte-10k3w4l:not(.moving){transition:transform 0.2s, background-color 0.2s, width 0.2s}.sg-milestone.moving.svelte-10k3w4l.svelte-10k3w4l{z-index:1}.sg-milestone.selected.svelte-10k3w4l.svelte-10k3w4l{outline:2px solid rgba(3, 169, 244, 0.5);outline-offset:3px;z-index:1}";ge(Uo);var Fo=".sg-time-range.svelte-ezlpj0{height:100%;position:absolute;display:flex;flex-direction:column;align-items:center;background-image:linear-gradient(-45deg, rgba(0, 0, 0, 0) 46%, #e03218 49%, #e03218 51%, rgba(0, 0, 0, 0) 55%);background-size:6px 6px !important;color:red;font-weight:400}.sg-time-range-label.svelte-ezlpj0{margin-top:10px;background:#fff;white-space:nowrap;padding:4px;font-weight:400;font-size:10px}";ge(Fo);function xo(t){let e,n,i=t[0].label+"",o,r;return{c(){e=M("div"),n=M("div"),o=je(i),y(n,"class","sg-time-range-label svelte-ezlpj0"),y(e,"class",r="sg-time-range "+(t[0].classes?Array.isArray(t[0].classes)?t[0].classes.join(" "):t[0].classes:"")+" svelte-ezlpj0"),C(e,"width",t[2].width+"px"),C(e,"left",t[2].x+"px"),X(e,"moving",t[1])},m(l,s){E(l,e,s),Y(e,n),Y(n,o)},p(l,[s]){s&1&&i!==(i=l[0].label+"")&&$e(o,i),s&1&&r!==(r="sg-time-range "+(l[0].classes?Array.isArray(l[0].classes)?l[0].classes.join(" "):l[0].classes:"")+" svelte-ezlpj0")&&y(e,"class",r),s&4&&C(e,"width",l[2].width+"px"),s&4&&C(e,"left",l[2].x+"px"),s&3&&X(e,"moving",l[1])},i:V,o:V,d(l){l&&S(e)}}}function Xo(t,e,n){let{model:i}=e,{left:o}=e,{width:r}=e,{resizing:l=!1}=e;const s={width:r,x:o};return t.$set=a=>{"model"in a&&n(0,i=a.model),"left"in a&&n(3,o=a.left),"width"in a&&n(4,r=a.width),"resizing"in a&&n(1,l=a.resizing)},t.$$.update=()=>{t.$$.dirty&24&&(n(2,s.x=o,s),n(2,s.width=r,s))},[i,l,s,o,r]}class No extends Te{constructor(e){super(),ze(this,e,Xo,xo,pe,{model:0,left:3,width:4,resizing:1})}}var qo=".sg-time-range-control.svelte-1hnnt3v{position:absolute}.sg-time-range-handle-left.svelte-1hnnt3v{position:absolute;left:0}.sg-time-range-handle-right.svelte-1hnnt3v{position:absolute;right:0}.sg-time-range-handle-left.svelte-1hnnt3v::before,.sg-time-range-handle-right.svelte-1hnnt3v::before{position:absolute;content:'';bottom:4px;border-radius:6px 6px 6px 0;border:2px solid #b0b0b7;width:9px;height:9px;transform:translateX(-50%) rotate(-45deg);background-color:#fff;border-color:#e03218;cursor:ew-resize}";ge(qo);function Go(t){let e,n,i,o,r,l;return{c(){e=M("div"),n=M("div"),i=ne(),o=M("div"),y(n,"class","sg-time-range-handle-left svelte-1hnnt3v"),y(o,"class","sg-time-range-handle-right svelte-1hnnt3v"),y(e,"class","sg-time-range-control svelte-1hnnt3v"),C(e,"width",t[0].width+"px"),C(e,"left",t[0].x+"px")},m(s,a){E(s,e,a),Y(e,n),Y(e,i),Y(e,o),r||(l=[Ge(t[1].call(null,n)),Ge(t[1].call(null,o)),Ge(t[2].call(null,e))],r=!0)},p(s,[a]){a&1&&C(e,"width",s[0].width+"px"),a&1&&C(e,"left",s[0].x+"px")},i:V,o:V,d(s){s&&S(e),r=!1,Ve(l)}}}function Qo(t,e,n){const{rowContainer:i}=ie("gantt"),{utils:o,columnService:r}=ie("services"),{resizeHandleWidth:l}=ie("options");ie("dimensions");const{api:s}=ie("services");let{model:a}=e,{width:u}=e,{left:d}=e;const h={width:u,x:d};function z(p){const f=_=>{const j=o.roundTo(r.getDateByPosition(_.x)),A=o.roundTo(r.getDateByPosition(_.x+_.width)),W=r.getPositionByDate(j),D=r.getPositionByDate(A);Object.assign(a,{from:j,to:A}),w({left:W,width:D-W,model:a,resizing:!1}),window.removeEventListener("mousemove",onmousemove,!1)};function w(_){Vt.update(_),n(0,h.x=_.left,h),n(0,h.width=_.width,h)}const b=new tn(p,{onDown:_=>{s.timeranges.raise.clicked({model:a}),w({left:_.x,width:_.width,model:a,resizing:!0})},onResize:_=>{s.timeranges.raise.resized({model:a,left:_.x,width:_.width}),w({left:_.x,width:_.width,model:a,resizing:!0})},dragAllowed:!1,resizeAllowed:!0,onDrop:f,container:i,resizeHandleWidth:l,getX:()=>h.x,getY:()=>0,getWidth:()=>h.width});return{destroy:()=>b.destroy()}}function k(p){a.classes&&p.classList.add(a.classes)}return t.$set=p=>{"model"in p&&n(3,a=p.model),"width"in p&&n(4,u=p.width),"left"in p&&n(5,d=p.left)},t.$$.update=()=>{t.$$.dirty&48&&(n(0,h.x=d,h),n(0,h.width=u,h))},[h,z,k,a,u,d]}class Vo extends Te{constructor(e){super(),ze(this,e,Qo,Go,pe,{model:3,width:4,left:5})}}var Ko=".column.svelte-1mx1tfz{position:absolute;height:100%;box-sizing:border-box}.column.svelte-1mx1tfz{border-right:#efefef 1px solid}";ge(Ko);class hl{constructor(e){this.moment=e}format(e,n){return this.moment(e).format(n)}}class Zo{format(e,n){const i=new Date(e);switch(n){case"H":return i.getHours()+"";case"HH":return gt(i.getHours());case"H:mm":return`${i.getHours()}:${gt(i.getMinutes())}`;case"hh:mm":return`${gt(i.getHours())}:${gt(i.getMinutes())}`;case"hh:mm:ss":return`${i.getHours()}:${gt(i.getMinutes())}:${gt(i.getSeconds())}`;case"dd/MM/yyyy":return`${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()}`;case"dd/MM/yyyy hh:mm":return`${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()} ${i.getHours()}:${i.getMinutes()}`;case"dd/MM/yyyy hh:mm:ss":return`${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()} ${i.getHours()}:${i.getMinutes()}:${i.getSeconds()}`;case"YYYY":return`${i.getFullYear()}`;case"Q":return`${Math.floor(i.getMonth()/3+1)}`;case"[Q]Q":return`Q${Math.floor(i.getMonth()/3+1)}`;case"YYYY[Q]Q":return`${i.getFullYear()}Q${Math.floor(i.getMonth()/3+1)}`;case"MM":var o=String(i.getMonth()+1);return o.length==1&&(o=`0${o}`),`${o}`;case"MMMM":var o=i.toLocaleString("default",{month:"long"});return`${o.charAt(0).toUpperCase()}${o.substring(1)}`;case"MMMM - YYYY":var o=i.toLocaleString("default",{month:"long"});return`${o.charAt(0).toUpperCase()}${o.substring(1)}-${i.getFullYear()}`;case"MMMM YYYY":var o=i.toLocaleString("default",{month:"long"});return`${o.charAt(0).toUpperCase()}${o.substring(1)} ${i.getFullYear()}`;case"MMM":var o=i.toLocaleString("default",{month:"short"});return`${o.charAt(0).toUpperCase()}${o.substring(1)}`;case"MMM - YYYY":var o=i.toLocaleString("default",{month:"short"});return`${o.charAt(0).toUpperCase()}${o.substring(1)} - ${i.getFullYear()}`;case"MMM YYYY":var o=i.toLocaleString("default",{month:"short"});return`${o.charAt(0).toUpperCase()}${o.substring(1)} ${i.getFullYear()}`;case"W":return`${$n(i)}`;case"WW":const r=$n(i);return`${r.toString().length==1?"0":""}${r}`;default:return console.warn(`Date Format "${n}" is not supported, use another date adapter.`),`${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()}`}}}function gt(t){let e=t.toString();for(let n=e.length;n<2;n++)e="0"+e;return e}function Jo(t,e){let n=new Date(t),i=n.getFullYear(),o=n.getMonth(),r=n.getDate();switch(e){case"y":case"year":return Ut(i,0,1);case"month":return Ut(i,o,1);case"week":return Ut(i,o,r,!0);case"d":case"day":return Ut(i,o,r);case"h":case"hour":return n.setMinutes(0,0,0),n.valueOf();case"m":case"minute":case"s":case"second":let l=St(e);return Math.floor(t/l)*l;default:throw new Error(`Unknown unit: ${e}`)}}function Ut(t,e,n,i=!1){return t<100&&t>=0?new Date(t+400,e,n).valueOf()-31536e6:i?$o(new Date(t,e,n).valueOf()).valueOf():new Date(t,e,n).valueOf()}function $n(t){t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));const e=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t.valueOf()-e.valueOf())/864e5+1)/7)}function $o(t){const e=new Date(t),n=e.getDay(),i=e.getDate()-n+(n===0?-6:1);return new Date(e.setDate(i))}function St(t,e=1){switch(t){case"y":case"year":return e*31536e6;case"month":return e*30*24*60*60*1e3;case"week":return e*7*24*60*60*1e3;case"d":case"day":return e*24*60*60*1e3;case"h":case"hour":return e*60*60*1e3;case"m":case"minute":return e*60*1e3;case"s":case"second":return e*1e3;default:throw new Error(`Unknown unit: ${t}`)}}var es=".column-header-row.svelte-1eoeq9j.svelte-1eoeq9j{box-sizing:border-box;white-space:nowrap;height:32px}.column-header-cell.svelte-1eoeq9j.svelte-1eoeq9j{display:inline-block;height:100%;box-sizing:border-box;text-overflow:clip;text-align:center;display:inline-flex;justify-content:center;align-items:center;font-size:1em;font-size:14px;font-weight:300;transition:background 0.2s;cursor:pointer;user-select:none;border-right:#efefef 1px solid;border-bottom:#efefef 1px solid}.column-header-cell.svelte-1eoeq9j.svelte-1eoeq9j:hover{background:#f9f9f9}.column-header-cell.sticky.svelte-1eoeq9j>.column-header-cell-label.svelte-1eoeq9j{position:sticky;left:1rem}";ge(es);function ei(t,e,n){const i=t.slice();return i[15]=e[n],i}function ti(t){let e,n,i=(t[15].label||"N/A")+"",o,r,l,s;function a(...u){return t[14](t[15],...u)}return{c(){e=M("div"),n=M("div"),o=je(i),r=ne(),y(n,"class","column-header-cell-label svelte-1eoeq9j"),y(e,"class","column-header-cell svelte-1eoeq9j"),C(e,"width",t[15].width+"px"),X(e,"sticky",t[0].sticky)},m(u,d){E(u,e,d),Y(e,n),Y(n,o),Y(e,r),l||(s=Be(e,"click",a),l=!0)},p(u,d){t=u,d&2&&i!==(i=(t[15].label||"N/A")+"")&&$e(o,i),d&2&&C(e,"width",t[15].width+"px"),d&1&&X(e,"sticky",t[0].sticky)},d(u){u&&S(e),l=!1,s()}}}function ts(t){let e,n=t[1],i=[];for(let o=0;o<n.length;o+=1)i[o]=ti(ei(t,n,o));return{c(){e=M("div");for(let o=0;o<i.length;o+=1)i[o].c();y(e,"class","column-header-row svelte-1eoeq9j")},m(o,r){E(o,e,r);for(let l=0;l<i.length;l+=1)i[l].m(e,null)},p(o,[r]){if(r&7){n=o[1];let l;for(l=0;l<n.length;l+=1){const s=ei(o,n,l);i[l]?i[l].p(s,r):(i[l]=ti(s),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},i:V,o:V,d(o){o&&S(e),it(i,o)}}}function ns(t,e,n){let i,o;const r=Et(),{from:l,to:s,width:a}=ie("dimensions");L(t,l,_=>n(10,o=_)),L(t,a,_=>n(9,i=_));const{dateAdapter:u}=ie("options");let{header:d}=e,{baseWidth:h}=e,{baseDuration:z}=e,{columnWidth:k}=e,{columnCount:p}=e,f=[];function w(_,j,A,W=1){let D=new Date(j),x=[];if(_=="month"){let q=[0,2,4,6,7,9,11];for(let le=0;le<A;le++){let oe=0;for(let ee=0;ee<W;ee++){let Z=0;const te=D.getMonth();te==1?Z=(me=>new Date(me,1,29).getDate()===29)(D.getFullYear())?-1:-2:q.includes(te)&&(Z=1,te==9?Z+=1/24:te==2&&(Z-=1/24)),oe+=Z,D=new Date(D.setMonth(D.getMonth()+d.offset))}x[le]=oe}}else if(_=="year")for(let q=0;q<A;q++){let le=0;D.getFullYear()%4==0&&(le=1),x[q]=le,D=new Date(D.setFullYear(D.getFullYear()+d.offset))}return new Promise(q=>{q(x)})}const b=_=>r("dateSelected",{from:_.from,to:_.to,unit:_.unit});return t.$set=_=>{"header"in _&&n(0,d=_.header),"baseWidth"in _&&n(7,h=_.baseWidth),"baseDuration"in _&&n(8,z=_.baseDuration),"columnWidth"in _&&n(5,k=_.columnWidth),"columnCount"in _&&n(6,p=_.columnCount)},t.$$.update=()=>{if(t.$$.dirty&385){n(0,d.duration=St(d.unit,d.offset),d);const j=d.duration/z;n(5,k=h*j)}if(t.$$.dirty&608&&(n(6,p=Math.ceil(i/k)),isFinite(p)||(console.error("columnCount is not finite"),n(6,p=0))),t.$$.dirty&1633){const _=[];let j=Jo(o,d.unit);if(d.unit=="month"||d.unit=="year")w(d.unit,j,p,(d==null?void 0:d.offset)||1).then(A=>{let W=A;for(let D=0;D<p;D++){_.push({width:Math.min(k,i),label:u.format(j,d.format),from:j,to:j+d.duration,unit:d.unit});const x=24*60*60*1e3*W[D];j+=d.duration+x}n(1,f=_)});else{for(let A=0;A<p;A++)_.push({width:Math.min(k,i),label:u.format(j,d.format),from:j,to:j+d.duration,unit:d.unit}),j+=d.duration;n(1,f=_)}}},[d,f,r,l,a,k,p,h,z,i,o,s,u,w,b]}class is extends Te{constructor(e){super(),ze(this,e,ns,ts,pe,{header:0,baseWidth:7,baseDuration:8,columnWidth:5,columnCount:6})}}class os{constructor(){}getPositionByDate(e){return Zt(e,this.from,this.from+this.totalColumnDuration,this.totalColumnWidth)}getDateByPosition(e){return ss(e,this.from,this.from+this.totalColumnDuration,this.totalColumnWidth)}roundTo(e){return Math.round(e/this.magnetDuration)*this.magnetDuration}}function Zt(t,e,n,i){if(!t)return;let o=t-e,r=n-e;return o/r*i}function ss(t,e,n,i){let o=t/i*(n-e);return e+o}function ls(t,e,n,i){let o=-1,r=t.length;for(;r-o>1;){let l=Math.floor((o+r)/2);(i?n(t[l])<e:n(t[l])<=e)?o=l:r=l}return!i&&t[o]!==void 0&&n(t[o])===e&&(r=o),[o,r]}function Yi(t,e,n,i){let o=ls(t,e,n,i);return[t[o[0]],t[o[1]]]}function ni(t,e,n){const i=t.slice();return i[13]=e[n],i}function ii(t){let e;const n=new is({props:{header:t[13],baseWidth:t[1],baseDuration:t[2]}});return n.$on("dateSelected",t[12]),{c(){ke(n.$$.fragment)},m(i,o){de(n,i,o),e=!0},p(i,o){const r={};o&1&&(r.header=i[13]),o&2&&(r.baseWidth=i[1]),o&4&&(r.baseDuration=i[2]),n.$set(r)},i(i){e||(B(n.$$.fragment,i),e=!0)},o(i){U(n.$$.fragment,i),e=!1},d(i){he(n,i)}}}function rs(t){let e,n,i=t[0],o=[];for(let l=0;l<i.length;l+=1)o[l]=ii(ni(t,i,l));const r=l=>U(o[l],1,1,()=>{o[l]=null});return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=Ie()},m(l,s){for(let a=0;a<o.length;a+=1)o[a].m(l,s);E(l,e,s),n=!0},p(l,[s]){if(s&7){i=l[0];let a;for(a=0;a<i.length;a+=1){const u=ni(l,i,a);o[a]?(o[a].p(u,s),B(o[a],1)):(o[a]=ii(u),o[a].c(),B(o[a],1),o[a].m(e.parentNode,e))}for(We(),a=i.length;a<o.length;a+=1)r(a);Ee()}},i(l){if(!n){for(let s=0;s<i.length;s+=1)B(o[s]);n=!0}},o(l){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)U(o[s]);n=!1},d(l){it(o,l),l&&S(e)}}}function as(t,e,n){let i,o,r,{headers:l}=e,{columnUnit:s}=e,{columnOffset:a}=e;const{from:u,to:d,width:h}=ie("dimensions");L(t,u,w=>n(9,i=w)),L(t,d,w=>n(10,o=w)),L(t,h,w=>n(11,r=w));let z,k,p;function f(w){vn(t,w)}return t.$set=w=>{"headers"in w&&n(0,l=w.headers),"columnUnit"in w&&n(6,s=w.columnUnit),"columnOffset"in w&&n(7,a=w.columnOffset)},t.$$.update=()=>{if(t.$$.dirty&193){let w=null,b=null;[...l,{unit:s,offset:a}].forEach(_=>{const j=_.duration=_.duration||St(_.unit,_.offset);(j<b||b===null)&&(b=j,w=_)}),n(8,z=w)}t.$$.dirty&3842&&(n(1,k=Zt(i+z.duration,i,o,r)|0),k<=0&&console.error("baseHeaderWidth is invalid, columns or headers might be too short for the current view.")),t.$$.dirty&256&&n(2,p=z.duration)},[l,k,p,u,d,h,s,a,z,i,o,r,f]}class cs extends Te{constructor(e){super(),ze(this,e,as,rs,pe,{headers:0,columnUnit:6,columnOffset:7})}}var us=".sg-columns.svelte-19kvsxe{position:absolute;height:100%;width:100%;overflow:hidden;background-repeat:repeat;background-position-x:-1px}";ge(us);function oi(t){let e;return{c(){e=M("div"),y(e,"class","sg-columns svelte-19kvsxe"),C(e,"background-image",t[4])},m(n,i){E(n,e,i)},p(n,i){i&16&&C(e,"background-image",n[4])},d(n){n&&S(e)}}}function fs(t){let e,n,i,o=t[1]=="day"&&t[2]==1&&t[0]&&oi(t);return{c(){e=M("div"),n=ne(),o&&o.c(),i=Ie(),y(e,"class","sg-columns svelte-19kvsxe"),C(e,"background-image",t[3])},m(r,l){E(r,e,l),E(r,n,l),o&&o.m(r,l),E(r,i,l)},p(r,[l]){l&8&&C(e,"background-image",r[3]),r[1]=="day"&&r[2]==1&&r[0]?o?o.p(r,l):(o=oi(r),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},i:V,o:V,d(r){r&&S(e),r&&S(n),o&&o.d(r),r&&S(i)}}}function _n(t,e){t.beginPath(),t.moveTo(e,0),t.lineTo(e,20),t.stroke()}function ds(t,e,n){let i,{columns:o=[]}=e,{columnStrokeWidth:r=1}=e,{columnStrokeColor:l="#efefef"}=e,{highlightWeekends:s}=e,{columnUnit:a}=e,{columnOffset:u}=e,{highlightColor:d}=e;const{from:h}=ie("dimensions");L(t,h,w=>n(10,i=w));function z(w){const b=document.createElement("canvas");b.width=(w.length-1)*w[0].width,b.height=20;const _=b.getContext("2d");return _.shadowColor="rgba(128,128,128,0.5)",_.shadowOffsetX=0,_.shadowOffsetY=0,_.shadowBlur=.5,_.lineWidth=r,_.lineCap="square",_.strokeStyle=l,_.translate(.5,.5),w.forEach(A=>{_n(_,A.left)}),`url("${b.toDataURL()}")`}function k(w){const _=new Date(i).getDay(),j=_==0?7:7-_,A=document.createElement("canvas");A.width=w.length*w[0].width,A.height=20;const W=A.getContext("2d");return W.shadowColor="rgba(128,128,128,0.5)",W.shadowOffsetX=0,W.shadowOffsetY=0,W.shadowBlur=.5,W.lineWidth=w[0].width,W.lineCap="square",W.strokeStyle=d,W.translate(.5,.5),w.forEach(function(x,I){I==j&&_n(W,x.left-w[0].width/2),I==j+1&&_n(W,x.left-w[0].width/2)}),`url("${A.toDataURL()}")`}let p,f;return t.$set=w=>{"columns"in w&&n(6,o=w.columns),"columnStrokeWidth"in w&&n(7,r=w.columnStrokeWidth),"columnStrokeColor"in w&&n(8,l=w.columnStrokeColor),"highlightWeekends"in w&&n(0,s=w.highlightWeekends),"columnUnit"in w&&n(1,a=w.columnUnit),"columnOffset"in w&&n(2,u=w.columnOffset),"highlightColor"in w&&n(9,d=w.highlightColor)},t.$$.update=()=>{t.$$.dirty&64&&(n(3,p=z(o.slice(0,5))),n(4,f=k(o.slice(0,7))))},[s,a,u,p,f,h,o,r,l,d]}class hs extends Te{constructor(e){super(),ze(this,e,ds,fs,pe,{columns:6,columnStrokeWidth:7,columnStrokeColor:8,highlightWeekends:0,columnUnit:1,columnOffset:2,highlightColor:9})}}var gs=".sg-context-menu.svelte-1a9x2in{position:absolute;background:white;border:1px solid #ccc;padding:0.25em 0;font-size:10px;transition:opacity 0.4s ease 0s;opacity:1;box-shadow:rgba(0, 0, 0, 0.32) 1px 1px 3px 0px}.context-option.svelte-1a9x2in:hover{background:#eee}.context-option.svelte-1a9x2in{cursor:default;padding:0.2em 1em}";ge(gs);var ms=".sg-resize.svelte-v0xg82{z-index:2;background:#e9eaeb;width:5px;cursor:col-resize;position:absolute;height:100%;transition:width 0.2s, transform 0.2s}.sg-resize.svelte-v0xg82:hover{transform:translateX(-2px);width:10px}";ge(ms);function ws(t){let e,n,i;return{c(){e=M("div"),y(e,"class","sg-resize svelte-v0xg82"),C(e,"left",t[0]+"px")},m(o,r){E(o,e,r),n||(i=Ge(t[1].call(null,e)),n=!0)},p(o,[r]){r&1&&C(e,"left",o[0]+"px")},i:V,o:V,d(o){o&&S(e),n=!1,i()}}}function bs(t,e,n){const i=Et();let{x:o=240}=e,{container:r}=e;const l={onDrag:a=>{n(0,o=a.x),i("resize",{left:o}),Dt("col-resize")},onDrop:a=>{n(0,o=a.x),i("resize",{left:o}),Dt("default")},dragAllowed:!0,resizeAllowed:!1,container:r,getX:()=>o,getY:()=>0,getWidth:()=>0};function s(a){return new tn(a,l)}return t.$set=a=>{"x"in a&&n(0,o=a.x),"container"in a&&n(2,r=a.container)},t.$$.update=()=>{t.$$.dirty&4&&(l.container=r)},[o,s,r]}class _s extends Te{constructor(e){super(),ze(this,e,bs,ws,pe,{x:0,container:2})}}class ks{constructor(){this.selection=ye([])}selectSingle(e){this.selection.set([e])}toggleSelection(e){this.selection.update(n=>{const i=n.indexOf(e);return i!==-1?n.splice(i,1):n.push(e),n})}clearSelection(){this.selection.set([])}}class ps{constructor(){this.listeners=[],this.listenersMap={}}registerEvent(e,n){this[e]||(this[e]={});const i=this[e];i.on||(i.on={},i.raise={});let o="on:"+e+":"+n;i.raise[n]=(...r)=>{this.listeners.forEach(l=>{l.eventId===o&&l.handler(r)})},i.on[n]=r=>{let l={handler:r,eventId:o};return this.listenersMap[o]=l,this.listeners.push(l),()=>{const a=this.listeners.indexOf(l);this.listeners.splice(a,1)}}}}class vs{constructor(){}createRow(e,n){e.classes=e.classes||"",e.contentHtml=e.contentHtml||void 0,e.enableDragging=e.enableDragging===void 0?!0:e.enableDragging;const i=e.height||this.rowHeight;return{model:e,y:n,height:i,expanded:!0}}createRows(e){const n={y:0,result:[]};return this.createChildRows(e,n),n.result}createChildRows(e,n,i=null,o=0,r=[]){const l=[],s=[];return i&&(r=[...r,i]),e.forEach(a=>{const u=this.createRow(a,n.y);if(n.result.push(u),l.push(u),s.push(u),u.childLevel=o,u.parent=i,u.allParents=r,n.y+=u.height,a.children){const d=this.createChildRows(a.children,n,u,o+1,r);u.children=d.rows,u.allChildren=d.allRows,s.push(...d.allRows)}}),{rows:l,allRows:s}}}class ys{constructor(e){this.columnService=e}create(e){e.enableResizing=e.enableResizing===void 0?!0:e.enableResizing;const n=this.columnService.getPositionByDate(e.from),i=this.columnService.getPositionByDate(e.to);return{model:e,left:n,width:i-n,resizing:!1}}}function zs(t,e){return Yi(t,e,i=>i.left)}function Ts(t,e){return Yi(t,e,i=>i.from)}const Rt={};function Ft(t,e,n){Rt[t]||(Rt[t]={}),Rt[t][e]=n}function si(t,e){delete Rt[t][e]}function Cs(t,e){let n;for(let i in t)if(n=e.getAttribute(i))return{attr:i,data:n}}function kn(t){let{type:e,target:n}=t;const i=Rt[e];if(!i)return;let o,r=n;for(;r&&r!=t.currentTarget&&!(o=Cs(i,r));)r=r.parentElement;o&&i[o.attr]?i[o.attr](t,o.data,r):i.empty&&i.empty(t,null,r)}var Ds=".sg-disable-transition.svelte-8uspd .sg-task,.sg-disable-transition.svelte-8uspd .sg-milestone{transition:transform 0s, background-color 0.2s, width 0s !important}.sg-view:not(:first-child){margin-left:5px}.right-scrollbar-visible.svelte-8uspd{padding-right:17px}.sg-timeline.svelte-8uspd{flex:1 1 0%;display:flex;flex-direction:column;overflow-x:auto}.sg-gantt.svelte-8uspd{display:flex;width:100%;height:100%;position:relative}.sg-foreground.svelte-8uspd{box-sizing:border-box;overflow:hidden;top:0;left:0;position:absolute;width:100%;height:100%;z-index:1;pointer-events:none}.sg-rows.svelte-8uspd{width:100%;box-sizing:border-box;overflow:hidden}.sg-timeline-body.svelte-8uspd{overflow:auto;flex:1 1 auto}.sg-header-scroller.svelte-8uspd{border-right:1px solid #efefef;overflow:hidden;position:relative}.content.svelte-8uspd{position:relative}*{box-sizing:border-box}";ge(Ds);function li(t,e,n){const i=t.slice();return i[131]=e[n],i}function ri(t,e,n){const i=t.slice();return i[134]=e[n],i}function ai(t,e,n){const i=t.slice();return i[137]=e[n],i}function ci(t,e,n){const i=t.slice();return i[140]=e[n],i}function ui(t,e,n){const i=t.slice();return i[137]=e[n],i}function fi(t,e,n){const i=t.slice();return i[131]=e[n],i}function di(t){let e,n;const i=[{rowContainerHeight:t[18]},{paddingTop:t[19]},{paddingBottom:t[20]},{tableWidth:t[1]},t[48],{visibleRows:t[21]}];var o=t[131];function r(a){let u={};for(let d=0;d<i.length;d+=1)u=Qe(u,i[d]);return{props:u}}if(o){var l=new o(r());l.$on("init",Jt)}const s=new _s({props:{x:t[1],container:t[11]}});return s.$on("resize",t[45]),{c(){l&&ke(l.$$.fragment),e=ne(),ke(s.$$.fragment)},m(a,u){l&&de(l,a,u),E(a,e,u),de(s,a,u),n=!0},p(a,u){const d=u[0]&3932162|u[1]&131072?wt(i,[u[0]&262144&&{rowContainerHeight:a[18]},u[0]&524288&&{paddingTop:a[19]},u[0]&1048576&&{paddingBottom:a[20]},u[0]&2&&{tableWidth:a[1]},u[1]&131072&&bt(a[48]),u[0]&2097152&&{visibleRows:a[21]}]):{};if(o!==(o=a[131])){if(l){We();const z=l;U(z.$$.fragment,1,0,()=>{he(z,1)}),Ee()}o?(l=new o(r()),l.$on("init",Jt),ke(l.$$.fragment),B(l.$$.fragment,1),de(l,e.parentNode,e)):l=null}else o&&l.$set(d);const h={};u[0]&2&&(h.x=a[1]),u[0]&2048&&(h.container=a[11]),s.$set(h)},i(a){n||(l&&B(l.$$.fragment,a),B(s.$$.fragment,a),n=!0)},o(a){l&&U(l.$$.fragment,a),U(s.$$.fragment,a),n=!1},d(a){l&&he(l,a),a&&S(e),he(s,a)}}}function hi(t,e){let n,i;const o=[e[137]];let r={};for(let s=0;s<o.length;s+=1)r=Qe(r,o[s]);const l=new Vo({props:r});return{key:t,first:null,c(){n=Ie(),ke(l.$$.fragment),this.first=n},m(s,a){E(s,n,a),de(l,s,a),i=!0},p(s,a){const u=a[0]&134217728?wt(o,[bt(s[137])]):{};l.$set(u)},i(s){i||(B(l.$$.fragment,s),i=!0)},o(s){U(l.$$.fragment,s),i=!1},d(s){s&&S(n),he(l,s)}}}function gi(t,e){let n,i;const o=new Io({props:{row:e[140]}});return{key:t,first:null,c(){n=Ie(),ke(o.$$.fragment),this.first=n},m(r,l){E(r,n,l),de(o,r,l),i=!0},p(r,l){const s={};l[0]&2097152&&(s.row=r[140]),o.$set(s)},i(r){i||(B(o.$$.fragment,r),i=!0)},o(r){U(o.$$.fragment,r),i=!1},d(r){r&&S(n),he(o,r)}}}function mi(t,e){let n,i;const o=[e[137]];let r={};for(let s=0;s<o.length;s+=1)r=Qe(r,o[s]);const l=new No({props:r});return{key:t,first:null,c(){n=Ie(),ke(l.$$.fragment),this.first=n},m(s,a){E(s,n,a),de(l,s,a),i=!0},p(s,a){const u=a[0]&134217728?wt(o,[bt(s[137])]):{};l.$set(u)},i(s){i||(B(l.$$.fragment,s),i=!0)},o(s){U(l.$$.fragment,s),i=!1},d(s){s&&S(n),he(l,s)}}}function wi(t,e){let n,i;const o=[{model:e[134].model},{left:e[134].left},{width:e[134].width},{height:e[134].height},{top:e[134].top},e[134]];let r={};for(let s=0;s<o.length;s+=1)r=Qe(r,o[s]);const l=new Yo({props:r});return{key:t,first:null,c(){n=Ie(),ke(l.$$.fragment),this.first=n},m(s,a){E(s,n,a),de(l,s,a),i=!0},p(s,a){const u=a[0]&4194304?wt(o,[{model:s[134].model},{left:s[134].left},{width:s[134].width},{height:s[134].height},{top:s[134].top},bt(s[134])]):{};l.$set(u)},i(s){i||(B(l.$$.fragment,s),i=!0)},o(s){U(l.$$.fragment,s),i=!1},d(s){s&&S(n),he(l,s)}}}function bi(t){let e,n;const i=[{paddingTop:t[19]},{paddingBottom:t[20]},{visibleRows:t[21]},t[48]];var o=t[131];function r(s){let a={};for(let u=0;u<i.length;u+=1)a=Qe(a,i[u]);return{props:a}}if(o){var l=new o(r());l.$on("init",Jt)}return{c(){l&&ke(l.$$.fragment),e=Ie()},m(s,a){l&&de(l,s,a),E(s,e,a),n=!0},p(s,a){const u=a[0]&3670016|a[1]&131072?wt(i,[a[0]&524288&&{paddingTop:s[19]},a[0]&1048576&&{paddingBottom:s[20]},a[0]&2097152&&{visibleRows:s[21]},a[1]&131072&&bt(s[48])]):{};if(o!==(o=s[131])){if(l){We();const d=l;U(d.$$.fragment,1,0,()=>{he(d,1)}),Ee()}o?(l=new o(r()),l.$on("init",Jt),ke(l.$$.fragment),B(l.$$.fragment,1),de(l,e.parentNode,e)):l=null}else o&&l.$set(u)},i(s){n||(l&&B(l.$$.fragment,s),n=!0)},o(s){l&&U(l.$$.fragment,s),n=!1},d(s){s&&S(e),l&&he(l,s)}}}function Rs(t){let e,n,i,o,r,l,s,a=[],u=new Map,d,h,z,k,p,f,w,b=[],_=new Map,j,A,W=[],D=new Map,x,I=[],q=new Map,le,oe,ee,Z,te,Ce,me=t[7],T=[];for(let g=0;g<me.length;g+=1)T[g]=di(fi(t,me,g));const K=g=>U(T[g],1,1,()=>{T[g]=null}),ue=new cs({props:{headers:t[0],columnUnit:t[2],columnOffset:t[3]}});ue.$on("dateSelected",t[47]);let De=t[27];const Ue=g=>g[137].model.id;for(let g=0;g<De.length;g+=1){let m=ui(t,De,g),H=Ue(m);u.set(H,a[g]=hi(H,m))}const R=new hs({props:{columns:t[15],columnStrokeColor:t[9],columnStrokeWidth:t[10],columnUnit:t[2],columnOffset:t[3],highlightWeekends:t[4],highlightColor:t[5]}});let Re=t[21];const Oe=g=>g[140].model.id;for(let g=0;g<Re.length;g+=1){let m=ci(t,Re,g),H=Oe(m);_.set(H,b[g]=gi(H,m))}let $=t[27];const Pe=g=>g[137].model.id;for(let g=0;g<$.length;g+=1){let m=ai(t,$,g),H=Pe(m);D.set(H,W[g]=mi(H,m))}let we=t[22];const Me=g=>g[134].model.id;for(let g=0;g<we.length;g+=1){let m=ri(t,we,g),H=Me(m);q.set(H,I[g]=wi(H,m))}let re=t[8],Q=[];for(let g=0;g<re.length;g+=1)Q[g]=bi(li(t,re,g));const Ye=g=>U(Q[g],1,1,()=>{Q[g]=null});return{c(){e=M("div");for(let g=0;g<T.length;g+=1)T[g].c();n=ne(),i=M("div"),o=M("div"),r=M("div"),l=M("div"),ke(ue.$$.fragment),s=ne();for(let g=0;g<a.length;g+=1)a[g].c();h=ne(),z=M("div"),k=M("div"),ke(R.$$.fragment),p=ne(),f=M("div"),w=M("div");for(let g=0;g<b.length;g+=1)b[g].c();j=ne(),A=M("div");for(let g=0;g<W.length;g+=1)W[g].c();x=ne();for(let g=0;g<I.length;g+=1)I[g].c();le=ne();for(let g=0;g<Q.length;g+=1)Q[g].c();y(l,"class","header-container svelte-8uspd"),C(l,"width",t[24]+"px"),y(r,"class","sg-header-scroller svelte-8uspd"),y(o,"class","sg-header svelte-8uspd"),Mt(()=>t[126].call(o)),X(o,"right-scrollbar-visible",t[17]),C(w,"transform","translateY("+t[19]+"px)"),y(f,"class","sg-rows svelte-8uspd"),C(f,"height",t[18]+"px"),y(A,"class","sg-foreground svelte-8uspd"),y(k,"class","content svelte-8uspd"),C(k,"width",t[24]+"px"),y(z,"class","sg-timeline-body svelte-8uspd"),Mt(()=>t[129].call(z)),X(z,"zooming",t[16]),y(i,"class","sg-timeline sg-view svelte-8uspd"),y(e,"class",ee="sg-gantt "+t[6]+" svelte-8uspd"),X(e,"sg-disable-transition",!t[23])},m(g,m){E(g,e,m);for(let H=0;H<T.length;H+=1)T[H].m(e,null);Y(e,n),Y(e,i),Y(i,o),Y(o,r),Y(r,l),de(ue,l,null),Y(l,s);for(let H=0;H<a.length;H+=1)a[H].m(l,null);t[125](o),d=qn(o,t[126].bind(o)),Y(i,h),Y(i,z),Y(z,k),de(R,k,null),Y(k,p),Y(k,f),Y(f,w);for(let H=0;H<b.length;H+=1)b[H].m(w,null);t[127](f),Y(k,j),Y(k,A);for(let H=0;H<W.length;H+=1)W[H].m(A,null);Y(A,x);for(let H=0;H<I.length;H+=1)I[H].m(A,null);Y(k,le);for(let H=0;H<Q.length;H+=1)Q[H].m(k,null);t[128](z),oe=qn(z,t[129].bind(z)),t[130](e),Z=!0,te||(Ce=[Ge(t[44].call(null,r)),Ge(t[43].call(null,z)),Be(z,"wheel",t[46]),Be(e,"click",kn),Be(e,"mouseover",kn),Be(e,"mouseleave",kn)],te=!0)},p(g,m){if(m[0]&3934338|m[1]&147456){me=g[7];let O;for(O=0;O<me.length;O+=1){const He=fi(g,me,O);T[O]?(T[O].p(He,m),B(T[O],1)):(T[O]=di(He),T[O].c(),B(T[O],1),T[O].m(e,n))}for(We(),O=me.length;O<T.length;O+=1)K(O);Ee()}const H={};if(m[0]&1&&(H.headers=g[0]),m[0]&4&&(H.columnUnit=g[2]),m[0]&8&&(H.columnOffset=g[3]),ue.$set(H),m[0]&134217728){const O=g[27];We(),a=Ct(a,m,Ue,1,g,O,u,l,Tt,hi,null,ui),Ee()}(!Z||m[0]&16777216)&&C(l,"width",g[24]+"px"),m[0]&131072&&X(o,"right-scrollbar-visible",g[17]);const J={};if(m[0]&32768&&(J.columns=g[15]),m[0]&512&&(J.columnStrokeColor=g[9]),m[0]&1024&&(J.columnStrokeWidth=g[10]),m[0]&4&&(J.columnUnit=g[2]),m[0]&8&&(J.columnOffset=g[3]),m[0]&16&&(J.highlightWeekends=g[4]),m[0]&32&&(J.highlightColor=g[5]),R.$set(J),m[0]&2097152){const O=g[21];We(),b=Ct(b,m,Oe,1,g,O,_,w,Tt,gi,null,ci),Ee()}if((!Z||m[0]&524288)&&C(w,"transform","translateY("+g[19]+"px)"),(!Z||m[0]&262144)&&C(f,"height",g[18]+"px"),m[0]&134217728){const O=g[27];We(),W=Ct(W,m,Pe,1,g,O,D,A,Tt,mi,x,ai),Ee()}if(m[0]&4194304){const O=g[22];We(),I=Ct(I,m,Me,1,g,O,q,A,Tt,wi,null,ri),Ee()}if(m[0]&3670272|m[1]&131072){re=g[8];let O;for(O=0;O<re.length;O+=1){const He=li(g,re,O);Q[O]?(Q[O].p(He,m),B(Q[O],1)):(Q[O]=bi(He),Q[O].c(),B(Q[O],1),Q[O].m(k,null))}for(We(),O=re.length;O<Q.length;O+=1)Ye(O);Ee()}(!Z||m[0]&16777216)&&C(k,"width",g[24]+"px"),m[0]&65536&&X(z,"zooming",g[16]),(!Z||m[0]&64&&ee!==(ee="sg-gantt "+g[6]+" svelte-8uspd"))&&y(e,"class",ee),m[0]&8388672&&X(e,"sg-disable-transition",!g[23])},i(g){if(!Z){for(let m=0;m<me.length;m+=1)B(T[m]);B(ue.$$.fragment,g);for(let m=0;m<De.length;m+=1)B(a[m]);B(R.$$.fragment,g);for(let m=0;m<Re.length;m+=1)B(b[m]);for(let m=0;m<$.length;m+=1)B(W[m]);for(let m=0;m<we.length;m+=1)B(I[m]);for(let m=0;m<re.length;m+=1)B(Q[m]);Z=!0}},o(g){T=T.filter(Boolean);for(let m=0;m<T.length;m+=1)U(T[m]);U(ue.$$.fragment,g);for(let m=0;m<a.length;m+=1)U(a[m]);U(R.$$.fragment,g);for(let m=0;m<b.length;m+=1)U(b[m]);for(let m=0;m<W.length;m+=1)U(W[m]);for(let m=0;m<I.length;m+=1)U(I[m]);Q=Q.filter(Boolean);for(let m=0;m<Q.length;m+=1)U(Q[m]);Z=!1},d(g){g&&S(e),it(T,g),he(ue);for(let m=0;m<a.length;m+=1)a[m].d();t[125](null),d(),he(R);for(let m=0;m<b.length;m+=1)b[m].d();t[127](null);for(let m=0;m<W.length;m+=1)W[m].d();for(let m=0;m<I.length;m+=1)I[m].d();it(Q,g),t[128](null),oe(),t[130](null),te=!1,Ve(Ce)}}}function _i(t){for(const e in t)if(t[e]==null)throw new Error(`"${e}" is not set`)}function xt(t){return t instanceof Date?t.valueOf():t}function Jt(t){}function Ms(t,e,n){const i=["highlightWeekends","highlightColor","rows","tasks","timeRanges","rowPadding","rowHeight","from","to","minWidth","fitWidth","classes","headers","zoomLevels","taskContent","tableWidth","resizeHandleWidth","onTaskButtonClick","dateAdapter","magnetUnit","magnetOffset","columnUnit","columnOffset","ganttTableModules","ganttBodyModules","reflectOnParentRows","reflectOnChildRows","columnStrokeColor","columnStrokeWidth","taskElementHook","columnService","api","taskFactory","rowFactory","dndManager","timeRangeFactory","utils","refreshTimeRanges","refreshTasks","getRowContainer","selectTask","unselectTasks","scrollToRow","scrollToTask","updateTask","updateTasks","updateRow","updateRows","getRow","getTask","getTasks"];let o=Nn(e,i),r,l,s,a,u,d,h,z,k,p,f,w,b,_,j,A,W,D,x,I;L(t,Se,c=>n(107,p=c)),L(t,qe,c=>n(110,b=c)),L(t,Li,c=>n(111,_=c)),L(t,vo,c=>n(112,j=c)),L(t,zo,c=>n(113,A=c)),L(t,yo,c=>n(27,x=c));var q=this&&this.__awaiter||function(c,v,P,F){function G(N){return N instanceof P?N:new P(function(se){se(N)})}return new(P||(P=Promise))(function(N,se){function _e(ve){try{Le(F.next(ve))}catch(yt){se(yt)}}function Je(ve){try{Le(F.throw(ve))}catch(yt){se(yt)}}function Le(ve){ve.done?N(ve.value):G(ve.value).then(_e,Je)}Le((F=F.apply(c,v||[])).next())})};let le,oe,ee,Z,te=[],Ce=!1,{highlightWeekends:me=!1}=e,{highlightColor:T="#6eb859"}=e,{rows:K}=e,{tasks:ue=[]}=e,{timeRanges:De=[]}=e;_i({rows:K});let{rowPadding:Ue=6}=e,{rowHeight:R=52}=e;const Re=ye(R);L(t,Re,c=>n(99,r=c));const Oe=ye(Ue);L(t,Oe,c=>n(100,l=c));let{from:$}=e,{to:Pe}=e;_i({from:$,to:Pe});const we=ye(xt($));L(t,we,c=>n(101,s=c));const Me=ye(xt(Pe));L(t,Me,c=>n(102,a=c));let{minWidth:re=800}=e,{fitWidth:Q=!1}=e;const Ye=ye(re);L(t,Ye,c=>n(103,u=c));const g=ye(Q);L(t,g,c=>n(104,d=c));let{classes:m=[]}=e,{headers:H=[{unit:"day",format:"MMMM Do"},{unit:"hour",format:"H:mm"}]}=e,{zoomLevels:J=[{headers:[{unit:"day",format:"DD.MM.YYYY"},{unit:"hour",format:"HH"}],minWidth:800,fitWidth:!0},{headers:[{unit:"hour",format:"ddd D/M, H A"},{unit:"minute",format:"mm",offset:15}],minWidth:5e3,fitWidth:!1}]}=e,{taskContent:O=null}=e,{tableWidth:He=100}=e,{resizeHandleWidth:st=10}=e,{onTaskButtonClick:ae=null}=e,{dateAdapter:lt=new Zo}=e,{magnetUnit:Ae="minute"}=e,{magnetOffset:Fe=15}=e,xe;Xe(Ae,Fe);function Xe(c,v){c&&v&&n(90,xe=St(c,v))}let{columnUnit:rt="minute"}=e,{columnOffset:at=15}=e,et;nn(rt,at);function nn(c,v){c&&v&&n(91,et=St(c,v))}let{ganttTableModules:Dn=[]}=e,{ganttBodyModules:Rn=[]}=e,{reflectOnParentRows:Ht=!0}=e,{reflectOnChildRows:Ot=!1}=e,{columnStrokeColor:Mn}=e,{columnStrokeWidth:Sn}=e,{taskElementHook:on=null}=e;const _t=ye(null);L(t,_t,c=>n(28,I=c));const Pt=ye(null);L(t,Pt,c=>n(25,W=c));const Lt=ye(null);L(t,Lt,c=>n(26,D=c));const sn=Qt([_t,Ye,g],([c,v,P])=>P&&c>v?c:v);L(t,sn,c=>n(24,h=c));const Ke={getColumnByDate(c){const v=Ts(At,c);return v[0]?v[0]:v[1]},getColumnByPosition(c){const v=zs(At,c);return v[0]?v[0]:v[1]},getPositionByDate(c){if(!c)return null;const v=this.getColumnByDate(c),F=(c-v.from)/v.duration*v.width;return v.left+F},getDateByPosition(c){const v=this.getColumnByPosition(c);c=c-v.left;let P=v.duration/v.width*c;return v.from+P},roundTo(c){return Math.round(c/xe)*xe}},Yt=ye(Zt(s+et,s,a,h)|0);L(t,Yt,c=>n(105,z=c));let ct=Math.ceil(h/z),At=ln(s,ct,et,z);function ln(c,v,P,F){if(!isFinite(v))throw new Error(`column count is not a finite number [${v}]`);if(F<=0)throw new Error("column width is not a positive number");let G=[],N=c,se=0;for(let _e=0;_e<v;_e++){const Je=N,Le=N+P,ve=Le-Je;G.push({width:F,from:Je,left:se,duration:ve}),se+=F,N=Le}return G}const rn=Qt([Yt,we,Me],()=>({}));L(t,rn,c=>n(106,k=c)),It("dimensions",{from:we,to:Me,width:sn,visibleWidth:_t,visibleHeight:Pt,headerHeight:Lt,dimensionsChanged:rn}),It("options",{dateAdapter:lt,taskElementHook:on,taskContent:O,rowPadding:Oe,rowHeight:Re,resizeHandleWidth:st,reflectOnParentRows:Ht,reflectOnChildRows:Ot,onTaskButtonClick:ae});const kt=ye(null);L(t,kt,c=>n(108,f=c));const pt=ye(null);L(t,pt,c=>n(109,w=c));const an={scrollables:te,hoveredRow:kt,selectedRow:pt};It("gantt",an),en(()=>{Object.assign(an,{rowContainer:Z,mainContainer:ee,mainHeaderContainer:oe}),be.registerEvent("tasks","move"),be.registerEvent("tasks","select"),be.registerEvent("tasks","switchRow"),be.registerEvent("tasks","moveEnd"),be.registerEvent("tasks","change"),be.registerEvent("tasks","changed"),be.registerEvent("gantt","viewChanged"),be.registerEvent("gantt","dateSelected"),be.registerEvent("tasks","dblclicked"),be.registerEvent("timeranges","clicked"),be.registerEvent("timeranges","resized"),n(89,Ce=!0)}),Ft("click","data-task-id",(c,v,P)=>{const F=+v;c.ctrlKey?ut.toggleSelection(F):ut.selectSingle(F),be.tasks.raise.select(p.entities[F])}),Ft("mouseover","data-row-id",(c,v,P)=>{fe(kt,f=+v)}),Ft("click","data-row-id",(c,v,P)=>{if(jn(),w==+v){fe(pt,w=null);return}fe(pt,w=+v)}),Ft("mouseleave","empty",(c,v,P)=>{fe(kt,f=null)}),wo(()=>{si("click","data-task-id"),si("click","data-row-id")});let cn=0,Wn=0;function ji(c){const v=P=>{const{scrollTop:F,scrollLeft:G}=c;te.forEach(N=>{N.orientation==="horizontal"?N.node.scrollLeft=G:N.node.scrollTop=F}),n(93,cn=F),Wn=G};return c.addEventListener("scroll",v),{destroy(){c.removeEventListener("scroll",v,!1)}}}function Ii(c){te.push({node:c,orientation:"horizontal"})}function Ui(c){n(1,He=c.detail.left)}let Ne=0,un=!1;function Fi(c){return q(this,void 0,void 0,function*(){if(c.ctrlKey){c.preventDefault();const v=Ne;if(c.deltaY>0?Ne=Math.max(Ne-1,0):Ne=Math.min(Ne+1,J.length-1),v!=Ne&&J[Ne]){const P=Object.assign({columnUnit:rt,columnOffset:at,minWidth:u},J[Ne]),F=P.minWidth/h,G=ee,N=mt(G,c),Je=(G.scrollLeft+N.x)*F-N.x+G.clientWidth/2;console.log("scrollLeft",Je),n(2,rt=P.columnUnit),n(3,at=P.columnOffset),fe(Ye,u=P.minWidth),P.headers&&n(0,H=P.headers),P.fitWidth&&fe(g,d=P.fitWidth),be.gantt.raise.viewChanged(),n(16,un=!0),yield mn(),G.scrollLeft=Je,n(16,un=!1)}}})}function xi(c){fe(we,s=c.detail.from),fe(Me,a=c.detail.to),be.gantt.raise.dateSelected({from:s,to:a})}function En(c){const v=ft.createRows(c);qe.addAll(v)}function Hn(c){return q(this,void 0,void 0,function*(){yield mn();const v=[],P={rowPadding:l};c.forEach(F=>{const G=Ze.createTask(F),N=b.entities[G.model.resourceId];G.reflections=[],Ot&&N.allChildren&&N.allChildren.forEach(se=>{const _e=Kt(G,se,P);G.reflections.push(_e.model.id),v.push(_e)}),Ht&&N.allParents.length>0&&N.allParents.forEach(se=>{const _e=Kt(G,se,P);G.reflections.push(_e.model.id),v.push(_e)}),v.push(G)}),Se.addAll(v)})}function On(c){const v=c.map(P=>Yn.create(P));Vt.addAll(v)}function Pn(){return q(this,void 0,void 0,function*(){n(23,hn=!1),yield mn(),le.offsetHeight,n(23,hn=!0)})}const be=new ps,ut=new ks,Ze=new So(Ke),ft=new vs,Ln=new Mo(qe),Yn=new ys(Ke),ce=new os;It("services",{utils:ce,api:be,dndManager:Ln,selectionManager:ut,columnService:Ke});function An(){Vt._update(({ids:c,entities:v})=>(c.forEach(P=>{const F=v[P],G=Ke.getPositionByDate(F.model.from)|0,N=Ke.getPositionByDate(F.model.to)|0;F.left=G,F.width=N-G}),{ids:c,entities:v}))}function Bn(){_.forEach(c=>{const v=Ke.getPositionByDate(c.model.from)|0,P=Ke.getPositionByDate(c.model.to)|0;c.left=v,c.width=P-v}),Se.refresh()}function Xi(){return Z}function Ni(c){const v=p.entities[c];v&&ut.selectSingle(v)}function jn(){ut.clearSelection()}function qi(c,v="auto"){const{scrollTop:P,clientHeight:F}=ee,G=j.findIndex(se=>se.model.id==c);if(G===-1)return;const N=G*R;N<P&&ee.scrollTo({top:N,behavior:v}),N>P+F&&ee.scrollTo({top:N+R-F,behavior:v})}function Gi(c,v="auto"){const{scrollLeft:P,scrollTop:F,clientWidth:G,clientHeight:N}=ee,se=p.entities[c];if(!se)return;const _e=se.left,Le=j.findIndex(yt=>yt.model.id==se.model.resourceId)*R,ve={top:void 0,left:void 0,behavior:v};_e<P&&(ve.left=_e),_e>P+G&&(ve.left=_e+se.width-G),Le<F&&(ve.top=Le),Le>F+N&&(ve.top=Le+R-N),ee.scrollTo(ve)}function Qi(c){const v=Ze.createTask(c);Se.upsert(v)}function Vi(c){const v=c.map(P=>Ze.createTask(P));Se.upsertAll(v)}function Ki(c){const v=ft.createRow(c,null);qe.upsert(v)}function Zi(c){const v=c.map(P=>ft.createRow(P,null));qe.upsertAll(v)}function Ji(c){return b.entities[c]}function $i(c){return p.entities[c]}function eo(c){return A[c]?A[c].map(v=>p.entities[v]):null}let dt=[],In,fn,vt,Bt,Un=0,Fn=0,dn=[],xn,hn=!0;function to(c){tt[c?"unshift":"push"](()=>{n(12,oe=c)})}function no(){D=this.clientHeight,Lt.set(D)}function io(c){tt[c?"unshift":"push"](()=>{n(14,Z=c)})}function oo(c){tt[c?"unshift":"push"](()=>{n(13,ee=c)})}function so(){W=this.clientHeight,Pt.set(W),I=this.clientWidth,_t.set(I)}function lo(c){tt[c?"unshift":"push"](()=>{n(11,le=c)})}return t.$set=c=>{e=Qe(Qe({},e),fo(c)),n(48,o=Nn(e,i)),"highlightWeekends"in c&&n(4,me=c.highlightWeekends),"highlightColor"in c&&n(5,T=c.highlightColor),"rows"in c&&n(52,K=c.rows),"tasks"in c&&n(53,ue=c.tasks),"timeRanges"in c&&n(54,De=c.timeRanges),"rowPadding"in c&&n(55,Ue=c.rowPadding),"rowHeight"in c&&n(56,R=c.rowHeight),"from"in c&&n(57,$=c.from),"to"in c&&n(58,Pe=c.to),"minWidth"in c&&n(59,re=c.minWidth),"fitWidth"in c&&n(60,Q=c.fitWidth),"classes"in c&&n(6,m=c.classes),"headers"in c&&n(0,H=c.headers),"zoomLevels"in c&&n(61,J=c.zoomLevels),"taskContent"in c&&n(62,O=c.taskContent),"tableWidth"in c&&n(1,He=c.tableWidth),"resizeHandleWidth"in c&&n(63,st=c.resizeHandleWidth),"onTaskButtonClick"in c&&n(64,ae=c.onTaskButtonClick),"dateAdapter"in c&&n(65,lt=c.dateAdapter),"magnetUnit"in c&&n(66,Ae=c.magnetUnit),"magnetOffset"in c&&n(67,Fe=c.magnetOffset),"columnUnit"in c&&n(2,rt=c.columnUnit),"columnOffset"in c&&n(3,at=c.columnOffset),"ganttTableModules"in c&&n(7,Dn=c.ganttTableModules),"ganttBodyModules"in c&&n(8,Rn=c.ganttBodyModules),"reflectOnParentRows"in c&&n(68,Ht=c.reflectOnParentRows),"reflectOnChildRows"in c&&n(69,Ot=c.reflectOnChildRows),"columnStrokeColor"in c&&n(9,Mn=c.columnStrokeColor),"columnStrokeWidth"in c&&n(10,Sn=c.columnStrokeWidth),"taskElementHook"in c&&n(70,on=c.taskElementHook)},t.$$.update=()=>{if(t.$$.dirty[1]&2097152|t.$$.dirty[2]&134217728&&Ce&&En(K),t.$$.dirty[1]&4194304|t.$$.dirty[2]&134217728&&Ce&&Hn(ue),t.$$.dirty[1]&8388608|t.$$.dirty[2]&134217728&&Ce&&On(De),t.$$.dirty[1]&33554432&&fe(Re,r=R),t.$$.dirty[1]&16777216&&fe(Oe,l=Ue),t.$$.dirty[1]&67108864&&fe(we,s=xt($)),t.$$.dirty[1]&134217728&&fe(Me,a=xt(Pe)),t.$$.dirty[1]&805306368&&(fe(Ye,u=re),fe(g,d=Q)),t.$$.dirty[2]&48&&Xe(Ae,Fe),t.$$.dirty[0]&12&&nn(rt,at),t.$$.dirty[0]&16777216|t.$$.dirty[2]&536870912|t.$$.dirty[3]&768&&fe(Yt,z=Zt(s+et,s,a,h)|0),t.$$.dirty[0]&16777216|t.$$.dirty[3]&4096&&n(92,ct=Math.ceil(h/z)),t.$$.dirty[2]&1610612736|t.$$.dirty[3]&4352&&n(15,At=ln(s,ct,et,z)),t.$$.dirty[3]&8192&&k&&(Bn(),An()),t.$$.dirty[3]&131200&&(n(49,Ze.rowPadding=l,Ze),n(49,Ze.rowEntities=b.entities,Ze)),t.$$.dirty[1]&33554432&&n(50,ft.rowHeight=R,ft),t.$$.dirty[0]&16777216|t.$$.dirty[2]&1879048240|t.$$.dirty[3]&4864&&(n(51,ce.from=s,ce),n(51,ce.to=a,ce),n(51,ce.width=h,ce),n(51,ce.magnetOffset=Fe,ce),n(51,ce.magnetUnit=Ae,ce),n(51,ce.magnetDuration=xe,ce),n(51,ce.totalColumnDuration=ct*et,ce),n(51,ce.totalColumnWidth=ct*z,ce)),t.$$.dirty[3]&524288&&n(96,dt=j.filter(c=>!c.hidden)),t.$$.dirty[1]&33554432|t.$$.dirty[3]&8&&n(18,fn=dt.length*R),t.$$.dirty[0]&33816576&&n(17,In=fn>W),t.$$.dirty[1]&33554432|t.$$.dirty[3]&1&&n(97,vt=Math.floor(cn/R)),t.$$.dirty[0]&33554432|t.$$.dirty[1]&33554432|t.$$.dirty[3]&24&&n(98,Bt=Math.min(vt+Math.ceil(W/R),dt.length-1)),t.$$.dirty[1]&33554432|t.$$.dirty[3]&16&&n(19,Un=vt*R),t.$$.dirty[1]&33554432|t.$$.dirty[3]&40&&n(20,Fn=(dt.length-Bt-1)*R),t.$$.dirty[3]&56&&n(21,dn=dt.slice(vt,Bt+1)),t.$$.dirty[0]&2097152|t.$$.dirty[3]&1064960){const c=[];dn.forEach(v=>{A[v.model.id]&&A[v.model.id].forEach(P=>{c.push(p.entities[P])})}),n(22,xn=c)}t.$$.dirty[3]&8192&&k&&Pn()},[H,He,rt,at,me,T,m,Dn,Rn,Mn,Sn,le,oe,ee,Z,At,un,In,fn,Un,Fn,dn,xn,hn,h,W,D,x,I,Re,Oe,we,Me,Ye,g,_t,Pt,Lt,sn,Yt,rn,kt,pt,ji,Ii,Ui,Fi,xi,o,Ze,ft,ce,K,ue,De,Ue,R,$,Pe,re,Q,J,O,st,ae,lt,Ae,Fe,Ht,Ot,on,Ke,be,Ln,Yn,An,Bn,Xi,Ni,jn,qi,Gi,Qi,Vi,Ki,Zi,Ji,$i,eo,Ce,xe,et,ct,cn,Wn,Ne,dt,vt,Bt,r,l,s,a,u,d,z,k,p,f,w,b,_,j,A,q,te,Xe,nn,ln,an,En,Hn,On,Pn,ut,to,no,io,oo,so,lo]}class Ss extends Te{constructor(e){super(),ze(this,e,Ms,Rs,pe,{highlightWeekends:4,highlightColor:5,rows:52,tasks:53,timeRanges:54,rowPadding:55,rowHeight:56,from:57,to:58,minWidth:59,fitWidth:60,classes:6,headers:0,zoomLevels:61,taskContent:62,tableWidth:1,resizeHandleWidth:63,onTaskButtonClick:64,dateAdapter:65,magnetUnit:66,magnetOffset:67,columnUnit:2,columnOffset:3,ganttTableModules:7,ganttBodyModules:8,reflectOnParentRows:68,reflectOnChildRows:69,columnStrokeColor:9,columnStrokeWidth:10,taskElementHook:70,columnService:71,api:72,taskFactory:49,rowFactory:50,dndManager:73,timeRangeFactory:74,utils:51,refreshTimeRanges:75,refreshTasks:76,getRowContainer:77,selectTask:78,unselectTasks:79,scrollToRow:80,scrollToTask:81,updateTask:82,updateTasks:83,updateRow:84,updateRows:85,getRow:86,getTask:87,getTasks:88},[-1,-1,-1,-1,-1])}get columnService(){return this.$$.ctx[71]}get api(){return this.$$.ctx[72]}get taskFactory(){return this.$$.ctx[49]}get rowFactory(){return this.$$.ctx[50]}get dndManager(){return this.$$.ctx[73]}get timeRangeFactory(){return this.$$.ctx[74]}get utils(){return this.$$.ctx[51]}get refreshTimeRanges(){return this.$$.ctx[75]}get refreshTasks(){return this.$$.ctx[76]}get getRowContainer(){return this.$$.ctx[77]}get selectTask(){return this.$$.ctx[78]}get unselectTasks(){return this.$$.ctx[79]}get scrollToRow(){return this.$$.ctx[80]}get scrollToTask(){return this.$$.ctx[81]}get updateTask(){return this.$$.ctx[82]}get updateTasks(){return this.$$.ctx[83]}get updateRow(){return this.$$.ctx[84]}get updateRows(){return this.$$.ctx[85]}get getRow(){return this.$$.ctx[86]}get getTask(){return this.$$.ctx[87]}get getTasks(){return this.$$.ctx[88]}}var Ws=".sg-tree-expander.svelte-1tk4vqn{cursor:pointer;min-width:1.4em;display:flex;justify-content:center;align-items:center}.sg-cell-inner.svelte-1tk4vqn{display:flex}";ge(Ws);function ki(t){let e,n,i;function o(s,a){return s[0].expanded?Hs:Es}let r=o(t),l=r(t);return{c(){e=M("div"),l.c(),y(e,"class","sg-tree-expander svelte-1tk4vqn")},m(s,a){E(s,e,a),l.m(e,null),n||(i=Be(e,"click",t[1]),n=!0)},p(s,a){r!==(r=o(s))&&(l.d(1),l=r(s),l&&(l.c(),l.m(e,null)))},d(s){s&&S(e),l.d(),n=!1,i()}}}function Es(t){let e;return{c(){e=M("i"),y(e,"class","fas fa-angle-right")},m(n,i){E(n,e,i)},d(n){n&&S(e)}}}function Hs(t){let e;return{c(){e=M("i"),y(e,"class","fas fa-angle-down")},m(n,i){E(n,e,i)},d(n){n&&S(e)}}}function Os(t){let e,n,i,o=t[0].children&&ki(t);const r=t[4].default,l=ao(r,t,t[3],null);return{c(){e=M("div"),o&&o.c(),n=ne(),l&&l.c(),y(e,"class","sg-cell-inner svelte-1tk4vqn"),C(e,"padding-left",t[0].childLevel*3+"em")},m(s,a){E(s,e,a),o&&o.m(e,null),Y(e,n),l&&l.m(e,null),i=!0},p(s,[a]){s[0].children?o?o.p(s,a):(o=ki(s),o.c(),o.m(e,n)):o&&(o.d(1),o=null),l&&l.p&&a&8&&uo(l,r,s,s[3],a,null,null),(!i||a&1)&&C(e,"padding-left",s[0].childLevel*3+"em")},i(s){i||(B(l,s),i=!0)},o(s){U(l,s),i=!1},d(s){s&&S(e),o&&o.d(),l&&l.d(s)}}}function Ps(t,e,n){let{row:i}=e;const o=Et();function r(){i.expanded?o("rowCollapsed",{row:i}):o("rowExpanded",{row:i})}let{$$slots:l={},$$scope:s}=e;return t.$set=a=>{"row"in a&&n(0,i=a.row),"$$scope"in a&&n(3,s=a.$$scope)},[i,r,o,s,l]}class Ls extends Te{constructor(e){super(),ze(this,e,Ps,Os,pe,{row:0})}}var Ys=".sg-table-row.svelte-ffcwbe{display:inline-flex;min-width:100%;align-items:stretch;position:relative;font-weight:400;font-size:14px}.sg-table-cell.svelte-ffcwbe{border-left:1px solid #eee}.sg-table-body-cell.svelte-ffcwbe{border-bottom:#efefef 1px solid;background-color:#fff;font-weight:bold}.sg-resource-image.svelte-ffcwbe{width:2.4em;height:2.4em;border-radius:50%;margin-right:.6em;background:#047c69}.sg-resource-info.svelte-ffcwbe{flex:1;height:100%;display:flex;flex-direction:row;align-items:center}.sg-table-icon.svelte-ffcwbe{margin-right:0.5em}";ge(Ys);function pi(t,e,n){const i=t.slice();return i[12]=e[n],i}function As(t){let e,n,i=t[1].model.iconClass&&vi(t);function o(s,a){return s[1].model.headerHtml?Fs:s[12].renderer?Us:s[12].type==="resourceInfo"?Is:js}let r=o(t),l=r(t);return{c(){i&&i.c(),e=ne(),l.c(),n=Ie()},m(s,a){i&&i.m(s,a),E(s,e,a),l.m(s,a),E(s,n,a)},p(s,a){s[1].model.iconClass?i?i.p(s,a):(i=vi(s),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),r===(r=o(s))&&l?l.p(s,a):(l.d(1),l=r(s),l&&(l.c(),l.m(n.parentNode,n)))},i:V,o:V,d(s){i&&i.d(s),s&&S(e),l.d(s),s&&S(n)}}}function Bs(t){let e;const n=new Ls({props:{row:t[1],$$slots:{default:[qs]},$$scope:{ctx:t}}});return n.$on("rowCollapsed",t[10]),n.$on("rowExpanded",t[11]),{c(){ke(n.$$.fragment)},m(i,o){de(n,i,o),e=!0},p(i,o){const r={};o&2&&(r.row=i[1]),o&32771&&(r.$$scope={dirty:o,ctx:i}),n.$set(r)},i(i){e||(B(n.$$.fragment,i),e=!0)},o(i){U(n.$$.fragment,i),e=!1},d(i){he(n,i)}}}function vi(t){let e,n,i;return{c(){e=M("div"),n=M("i"),y(n,"class",i=qt(t[1].model.iconClass)+" svelte-ffcwbe"),y(e,"class","sg-table-icon svelte-ffcwbe")},m(o,r){E(o,e,r),Y(e,n)},p(o,r){r&2&&i!==(i=qt(o[1].model.iconClass)+" svelte-ffcwbe")&&y(n,"class",i)},d(o){o&&S(e)}}}function js(t){let e=t[1].model[t[12].property]+"",n;return{c(){n=je(e)},m(i,o){E(i,n,o)},p(i,o){o&3&&e!==(e=i[1].model[i[12].property]+"")&&$e(n,e)},d(i){i&&S(n)}}}function Is(t){let e,n,i,o,r=t[1].model[t[12].property]+"",l;return{c(){e=M("img"),i=ne(),o=M("div"),l=je(r),y(e,"class","sg-resource-image svelte-ffcwbe"),e.src!==(n=t[1].model.imageSrc)&&y(e,"src",n),y(e,"alt",""),y(o,"class","sg-resource-title")},m(s,a){E(s,e,a),E(s,i,a),E(s,o,a),Y(o,l)},p(s,a){a&2&&e.src!==(n=s[1].model.imageSrc)&&y(e,"src",n),a&3&&r!==(r=s[1].model[s[12].property]+"")&&$e(l,r)},d(s){s&&S(e),s&&S(i),s&&S(o)}}}function Us(t){let e,n=t[12].renderer(t[1])+"";return{c(){e=new ot(null)},m(i,o){e.m(n,i,o)},p(i,o){o&3&&n!==(n=i[12].renderer(i[1])+"")&&e.p(n)},d(i){i&&e.d()}}}function Fs(t){let e,n=t[1].model.headerHtml+"";return{c(){e=new ot(null)},m(i,o){e.m(n,i,o)},p(i,o){o&2&&n!==(n=i[1].model.headerHtml+"")&&e.p(n)},d(i){i&&e.d()}}}function yi(t){let e,n,i;return{c(){e=M("div"),n=M("i"),y(n,"class",i=qt(t[1].model.iconClass)+" svelte-ffcwbe"),y(e,"class","sg-table-icon svelte-ffcwbe")},m(o,r){E(o,e,r),Y(e,n)},p(o,r){r&2&&i!==(i=qt(o[1].model.iconClass)+" svelte-ffcwbe")&&y(n,"class",i)},d(o){o&&S(e)}}}function xs(t){let e=t[1].model[t[12].property]+"",n;return{c(){n=je(e)},m(i,o){E(i,n,o)},p(i,o){o&3&&e!==(e=i[1].model[i[12].property]+"")&&$e(n,e)},d(i){i&&S(n)}}}function Xs(t){let e,n=t[12].renderer(t[1])+"";return{c(){e=new ot(null)},m(i,o){e.m(n,i,o)},p(i,o){o&3&&n!==(n=i[12].renderer(i[1])+"")&&e.p(n)},d(i){i&&e.d()}}}function Ns(t){let e,n=t[1].model.headerHtml+"";return{c(){e=new ot(null)},m(i,o){e.m(n,i,o)},p(i,o){o&2&&n!==(n=i[1].model.headerHtml+"")&&e.p(n)},d(i){i&&e.d()}}}function qs(t){let e,n,i=t[1].model.iconClass&&yi(t);function o(s,a){return s[1].model.headerHtml?Ns:s[12].renderer?Xs:xs}let r=o(t),l=r(t);return{c(){i&&i.c(),e=ne(),l.c(),n=Ie()},m(s,a){i&&i.m(s,a),E(s,e,a),l.m(s,a),E(s,n,a)},p(s,a){s[1].model.iconClass?i?i.p(s,a):(i=yi(s),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),r===(r=o(s))&&l?l.p(s,a):(l.d(1),l=r(s),l&&(l.c(),l.m(n.parentNode,n)))},d(s){i&&i.d(s),s&&S(e),l.d(s),s&&S(n)}}}function zi(t){let e,n,i,o,r;const l=[Bs,As],s=[];function a(u,d){return u[12].type=="tree"?0:1}return n=a(t),i=s[n]=l[n](t),{c(){e=M("div"),i.c(),o=ne(),y(e,"class","sg-table-body-cell sg-table-cell svelte-ffcwbe"),C(e,"width",t[12].width+"px")},m(u,d){E(u,e,d),s[n].m(e,null),Y(e,o),r=!0},p(u,d){let h=n;n=a(u),n===h?s[n].p(u,d):(We(),U(s[h],1,1,()=>{s[h]=null}),Ee(),i=s[n],i||(i=s[n]=l[n](u),i.c()),B(i,1),i.m(e,o)),(!r||d&1)&&C(e,"width",u[12].width+"px")},i(u){r||(B(i),r=!0)},o(u){U(i),r=!1},d(u){u&&S(e),s[n].d()}}}function Gs(t){let e,n,i,o,r=t[0],l=[];for(let a=0;a<r.length;a+=1)l[a]=zi(pi(t,r,a));const s=a=>U(l[a],1,1,()=>{l[a]=null});return{c(){e=M("div");for(let a=0;a<l.length;a+=1)l[a].c();y(e,"data-row-id",n=t[1].model.id),C(e,"height",t[2]+"px"),y(e,"class",i="sg-table-row "+(t[1].model.classes||"")+" svelte-ffcwbe"),X(e,"sg-row-expanded",t[1].expanded),X(e,"sg-hover",t[3]==t[1].model.id),X(e,"sg-selected",t[4]==t[1].model.id)},m(a,u){E(a,e,u);for(let d=0;d<l.length;d+=1)l[d].m(e,null);o=!0},p(a,[u]){if(u&3){r=a[0];let d;for(d=0;d<r.length;d+=1){const h=pi(a,r,d);l[d]?(l[d].p(h,u),B(l[d],1)):(l[d]=zi(h),l[d].c(),B(l[d],1),l[d].m(e,null))}for(We(),d=r.length;d<l.length;d+=1)s(d);Ee()}(!o||u&2&&n!==(n=a[1].model.id))&&y(e,"data-row-id",n),(!o||u&4)&&C(e,"height",a[2]+"px"),(!o||u&2&&i!==(i="sg-table-row "+(a[1].model.classes||"")+" svelte-ffcwbe"))&&y(e,"class",i),u&2&&X(e,"sg-row-expanded",a[1].expanded),u&10&&X(e,"sg-hover",a[3]==a[1].model.id),u&18&&X(e,"sg-selected",a[4]==a[1].model.id)},i(a){if(!o){for(let u=0;u<r.length;u+=1)B(l[u]);o=!0}},o(a){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)U(l[u]);o=!1},d(a){a&&S(e),it(l,a)}}}function Qs(t,e,n){let i,o,r,{headers:l=null}=e,{row:s=null}=e;const{rowHeight:a}=ie("options");L(t,a,f=>n(2,i=f));const{hoveredRow:u,selectedRow:d}=ie("gantt");L(t,u,f=>n(3,o=f)),L(t,d,f=>n(4,r=f));const h=Et();let z="";en(()=>{s.model.expanded==!1&&h("rowCollapsed",{row:s})});function k(f){vn(t,f)}function p(f){vn(t,f)}return t.$set=f=>{"headers"in f&&n(0,l=f.headers),"row"in f&&n(1,s=f.row)},t.$$.update=()=>{t.$$.dirty&2&&(z=s.parent?`padding-left: ${s.childLevel*3}em;`:"")},[l,s,i,o,r,a,u,d,z,h,k,p]}class Vs extends Te{constructor(e){super(),ze(this,e,Qs,Gs,pe,{headers:0,row:1})}}var Ks=".bottom-scrollbar-visible.svelte-87uanl{padding-bottom:17px}.sg-table.svelte-87uanl{overflow-x:auto;display:flex;flex-direction:column}.sg-table-scroller.svelte-87uanl{width:100%;border-bottom:1px solid #efefef;overflow-y:hidden}.sg-table-header.svelte-87uanl{display:flex;align-items:stretch;overflow:hidden;border-bottom:#efefef 1px solid;background-color:#fbfbfb}.sg-table-body.svelte-87uanl{display:flex;flex:1 1 0;width:100%;overflow-y:hidden}.sg-table-header-cell.svelte-87uanl{font-size:14px;font-weight:400}.sg-table-cell{white-space:nowrap;overflow:hidden;display:flex;align-items:center;flex-shrink:0;padding:0 .5em;height:100%}.sg-table-cell:last-child{flex-grow:1}";ge(Ks);function Ti(t,e,n){const i=t.slice();return i[30]=e[n],i}function Ci(t,e,n){const i=t.slice();return i[33]=e[n],i}function Di(t){let e,n=t[33].title+"",i,o;return{c(){e=M("div"),i=je(n),o=ne(),y(e,"class","sg-table-header-cell sg-table-cell svelte-87uanl"),C(e,"width",t[33].width+"px")},m(r,l){E(r,e,l),Y(e,i),Y(e,o)},p(r,l){l[0]&32&&n!==(n=r[33].title+"")&&$e(i,n),l[0]&32&&C(e,"width",r[33].width+"px")},d(r){r&&S(e)}}}function Ri(t){let e;const n=new Vs({props:{row:t[30],headers:t[5]}});return n.$on("rowExpanded",t[15]),n.$on("rowCollapsed",t[16]),{c(){ke(n.$$.fragment)},m(i,o){de(n,i,o),e=!0},p(i,o){const r={};o[0]&16&&(r.row=i[30]),o[0]&32&&(r.headers=i[5]),n.$set(r)},i(i){e||(B(n.$$.fragment,i),e=!0)},o(i){U(n.$$.fragment,i),e=!1},d(i){he(n,i)}}}function Zs(t){let e,n,i,o,r,l,s,a,u,d=t[5],h=[];for(let f=0;f<d.length;f+=1)h[f]=Di(Ci(t,d,f));let z=t[4],k=[];for(let f=0;f<z.length;f+=1)k[f]=Ri(Ti(t,z,f));const p=f=>U(k[f],1,1,()=>{k[f]=null});return{c(){e=M("div"),n=M("div");for(let f=0;f<h.length;f+=1)h[f].c();i=ne(),o=M("div"),r=M("div"),l=M("div");for(let f=0;f<k.length;f+=1)k[f].c();y(n,"class","sg-table-header svelte-87uanl"),C(n,"height",t[8]+"px"),y(l,"class","sg-table-rows svelte-87uanl"),C(l,"padding-top",t[1]+"px"),C(l,"padding-bottom",t[2]+"px"),C(l,"height",t[3]+"px"),y(r,"class","sg-table-scroller svelte-87uanl"),y(o,"class","sg-table-body svelte-87uanl"),X(o,"bottom-scrollbar-visible",t[7]),y(e,"class","sg-table sg-view svelte-87uanl"),C(e,"width",t[0]+"px")},m(f,w){E(f,e,w),Y(e,n);for(let b=0;b<h.length;b+=1)h[b].m(n,null);t[29](n),Y(e,i),Y(e,o),Y(o,r),Y(r,l);for(let b=0;b<k.length;b+=1)k[b].m(l,null);s=!0,a||(u=Ge(t[14].call(null,r)),a=!0)},p(f,w){if(w[0]&32){d=f[5];let b;for(b=0;b<d.length;b+=1){const _=Ci(f,d,b);h[b]?h[b].p(_,w):(h[b]=Di(_),h[b].c(),h[b].m(n,null))}for(;b<h.length;b+=1)h[b].d(1);h.length=d.length}if((!s||w[0]&256)&&C(n,"height",f[8]+"px"),w[0]&98352){z=f[4];let b;for(b=0;b<z.length;b+=1){const _=Ti(f,z,b);k[b]?(k[b].p(_,w),B(k[b],1)):(k[b]=Ri(_),k[b].c(),B(k[b],1),k[b].m(l,null))}for(We(),b=z.length;b<k.length;b+=1)p(b);Ee()}(!s||w[0]&2)&&C(l,"padding-top",f[1]+"px"),(!s||w[0]&4)&&C(l,"padding-bottom",f[2]+"px"),(!s||w[0]&8)&&C(l,"height",f[3]+"px"),w[0]&128&&X(o,"bottom-scrollbar-visible",f[7]),(!s||w[0]&1)&&C(e,"width",f[0]+"px")},i(f){if(!s){for(let w=0;w<z.length;w+=1)B(k[w]);s=!0}},o(f){k=k.filter(Boolean);for(let w=0;w<k.length;w+=1)U(k[w]);s=!1},d(f){f&&S(e),it(h,f),t[29](null),it(k,f),a=!1,u()}}}function Ai(t){t.forEach(e=>{e.children&&Ai(e.children),e.hidden=!0})}function Bi(t,e=!1){t.forEach(n=>{n.children&&Bi(n.children,!n.expanded),n.hidden=e})}function Js(t,e,n){let i,o,r,l,s,a,u;L(t,qe,T=>n(18,i=T)),L(t,Se,T=>n(20,r=T));const d=Et();let{tableWidth:h}=e,{paddingTop:z}=e,{paddingBottom:k}=e,{rowContainerHeight:p}=e,{visibleRows:f}=e,{tableHeaders:w=[{title:"Name",property:"label",width:100}]}=e;const{from:b,to:_,width:j,visibleWidth:A,headerHeight:W}=ie("dimensions");L(t,j,T=>n(22,s=T)),L(t,A,T=>n(23,a=T)),L(t,W,T=>n(8,u=T));const{rowPadding:D,rowHeight:x}=ie("options");L(t,D,T=>n(21,l=T)),L(t,x,T=>n(19,o=T)),en(()=>{d("init",{module:this})});const{scrollables:I}=ie("gantt");let q;function le(T){return I.push({node:T,orientation:"vertical"}),T.addEventListener("scroll",K=>{n(6,q.scrollLeft=T.scrollLeft,q)}),{destroy(){T.removeEventListener("scroll")}}}let oe;function ee(T){const K=T.detail.row;K.expanded=!0,K.children&&Bi(K.children),te()}function Z(T){const K=T.detail.row;K.expanded=!1,K.children&&Ai(K.children),te()}function te(){let T=0;i.ids.forEach(K=>{i.entities[K].hidden||(fe(qe,i.entities[K].y=T,i),T+=o)}),r.ids.forEach(K=>{const ue=r.entities[K],De=i.entities[ue.model.resourceId];fe(Se,r.entities[K].top=De.y+l,r)})}let Ce;function me(T){tt[T?"unshift":"push"](()=>{n(6,q=T)})}return t.$set=T=>{"tableWidth"in T&&n(0,h=T.tableWidth),"paddingTop"in T&&n(1,z=T.paddingTop),"paddingBottom"in T&&n(2,k=T.paddingBottom),"rowContainerHeight"in T&&n(3,p=T.rowContainerHeight),"visibleRows"in T&&n(4,f=T.visibleRows),"tableHeaders"in T&&n(5,w=T.tableHeaders)},t.$$.update=()=>{if(t.$$.dirty[0]&32){let T=0;w.forEach(K=>{T+=K.width}),n(17,oe=T)}t.$$.dirty[0]&12713985&&n(7,Ce=s>a&&oe<=h)},[h,z,k,p,f,w,q,Ce,u,j,A,W,D,x,le,ee,Z,oe,i,o,r,l,s,a,d,b,_,I,te,me]}class $s extends Te{constructor(e){super(),ze(this,e,Js,Zs,pe,{tableWidth:0,paddingTop:1,paddingBottom:2,rowContainerHeight:3,visibleRows:4,tableHeaders:5},[-1,-1])}}var gl=$s,el=".arrow.svelte-1uk268y{position:absolute;left:0px;pointer-events:none}.select-area.svelte-1uk268y{pointer-events:visible;position:absolute}";ge(el);function tl(t){let e,n,i;return{c(){e=gn("svg"),n=gn("path"),i=gn("path"),y(n,"d",t[2]),y(n,"stroke",t[0]),y(n,"stroke-width",t[1]),y(n,"fill","transparent"),y(n,"class","select-area svelte-1uk268y"),y(i,"d",t[3]),y(i,"fill",t[0]),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"shape-rendering","crispEdges"),y(e,"class","arrow svelte-1uk268y"),y(e,"height","100%"),y(e,"width","100%")},m(o,r){E(o,e,r),Y(e,n),Y(e,i)},p(o,[r]){r&4&&y(n,"d",o[2]),r&1&&y(n,"stroke",o[0]),r&2&&y(n,"stroke-width",o[1]),r&8&&y(i,"d",o[3]),r&1&&y(i,"fill",o[0])},i:V,o:V,d(o){o&&S(e)}}}function nl(t,e,n){let{startY:i}=e,{endY:o}=e,{endX:r}=e,{startX:l}=e,{minLen:s=12}=e,{arrowSize:a=5}=e,{stroke:u="red"}=e,{strokeWidth:d=2}=e;en(()=>{});let h,z,k,p;return t.$set=f=>{"startY"in f&&n(4,i=f.startY),"endY"in f&&n(5,o=f.endY),"endX"in f&&n(6,r=f.endX),"startX"in f&&n(7,l=f.startX),"minLen"in f&&n(8,s=f.minLen),"arrowSize"in f&&n(9,a=f.arrowSize),"stroke"in f&&n(0,u=f.stroke),"strokeWidth"in f&&n(1,d=f.strokeWidth)},t.$$.update=()=>{if(t.$$.dirty&48&&n(10,h=o-i),t.$$.dirty&192&&n(11,z=r-l),t.$$.dirty&3568){(l==NaN||l==null)&&n(2,k="M0 0");let f;l+s>=r&&i!=o?f=`L ${l+s} ${i} 
                        L ${l+s} ${i+h/2}
                        L ${r-s} ${i+h/2}
                        L ${r-s} ${o} `:f=`L ${l+z/2} ${i} 
                        L ${l+z/2} ${o}`,n(2,k=`M${l} ${i}`+f+`L ${r-2} ${o}`)}t.$$.dirty&608&&((r==NaN||r==null)&&n(3,p="M0 0"),n(3,p=`M${r-a} ${o-a} L${r} ${o} L${r-a} ${o+a} Z`))},[u,d,k,p,i,o,r,l,s,a]}class il extends Te{constructor(e){super(),ze(this,e,nl,tl,pe,{startY:4,endY:5,endX:6,startX:7,minLen:8,arrowSize:9,stroke:0,strokeWidth:1})}}var ol=".sg-dependency.svelte-741ycn{position:absolute;width:100%;height:100%}";ge(ol);function sl(t){let e,n;const i=new il({props:{startX:t[3].left+t[3].width,startY:t[3].top+t[3].height/2,endX:t[4].left,endY:t[4].top+t[4].height/2,stroke:t[1],strokeWidth:t[2]}});return{c(){e=M("div"),ke(i.$$.fragment),y(e,"class","sg-dependency svelte-741ycn"),C(e,"left","0"),C(e,"top","0"),y(e,"data-dependency-id",t[0])},m(o,r){E(o,e,r),de(i,e,null),n=!0},p(o,[r]){const l={};r&8&&(l.startX=o[3].left+o[3].width),r&8&&(l.startY=o[3].top+o[3].height/2),r&16&&(l.endX=o[4].left),r&16&&(l.endY=o[4].top+o[4].height/2),r&2&&(l.stroke=o[1]),r&4&&(l.strokeWidth=o[2]),i.$set(l),(!n||r&1)&&y(e,"data-dependency-id",o[0])},i(o){n||(B(i.$$.fragment,o),n=!0)},o(o){U(i.$$.fragment,o),n=!1},d(o){o&&S(e),he(i)}}}function ll(t,e,n){let i;L(t,Se,h=>n(7,i=h));let{id:o}=e,{fromId:r}=e,{toId:l}=e,{stroke:s}=e,{strokeWidth:a}=e,u,d;return t.$set=h=>{"id"in h&&n(0,o=h.id),"fromId"in h&&n(5,r=h.fromId),"toId"in h&&n(6,l=h.toId),"stroke"in h&&n(1,s=h.stroke),"strokeWidth"in h&&n(2,a=h.strokeWidth)},t.$$.update=()=>{t.$$.dirty&160&&n(3,u=i.entities[r]),t.$$.dirty&192&&n(4,d=i.entities[l])},[o,s,a,u,d,r,l]}class rl extends Te{constructor(e){super(),ze(this,e,ll,sl,pe,{id:0,fromId:5,toId:6,stroke:1,strokeWidth:2})}}var al=".dependency-container.svelte-50yf7x{position:absolute;width:100%;height:100%;pointer-events:none;top:0;float:left;overflow:hidden;z-index:0}";ge(al);function Mi(t,e,n){const i=t.slice();return i[6]=e[n],i}function Si(t,e){let n,i;const o=[e[6]];let r={};for(let s=0;s<o.length;s+=1)r=Qe(r,o[s]);const l=new rl({props:r});return{key:t,first:null,c(){n=Ie(),ke(l.$$.fragment),this.first=n},m(s,a){E(s,n,a),de(l,s,a),i=!0},p(s,a){const u=a&1?wt(o,[bt(s[6])]):{};l.$set(u)},i(s){i||(B(l.$$.fragment,s),i=!0)},o(s){U(l.$$.fragment,s),i=!1},d(s){s&&S(n),he(l,s)}}}function cl(t){let e,n=[],i=new Map,o,r=t[0];const l=s=>s[6].id;for(let s=0;s<r.length;s+=1){let a=Mi(t,r,s),u=l(a);i.set(u,n[s]=Si(u,a))}return{c(){e=M("div");for(let s=0;s<n.length;s+=1)n[s].c();y(e,"class","dependency-container svelte-50yf7x")},m(s,a){E(s,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);o=!0},p(s,[a]){if(a&1){const u=s[0];We(),n=Ct(n,a,l,1,s,u,i,e,Tt,Si,null,Mi),Ee()}},i(s){if(!o){for(let a=0;a<r.length;a+=1)B(n[a]);o=!0}},o(s){for(let a=0;a<n.length;a+=1)U(n[a]);o=!1},d(s){s&&S(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function ul(t,e,n){let i,o;L(t,Se,u=>n(4,i=u));const{visibleHeight:r}=ie("dimensions");L(t,r,u=>n(5,o=u));let{paddingTop:l}=e,{dependencies:s=[]}=e,a=[];return t.$set=u=>{"paddingTop"in u&&n(2,l=u.paddingTop),"dependencies"in u&&n(3,s=u.dependencies)},t.$$.update=()=>{if(t.$$.dirty&60){const u=[];for(let d=0;d<s.length;d++){const h=s[d],z=i.entities,k=z[h.fromId],p=z[h.toId];k&&p&&Math.min(k.top,p.top)<=l+o&&Math.max(k.top,p.top)>=l&&u.push(h)}n(0,a=u)}},[a,r,l,s]}class fl extends Te{constructor(e){super(),ze(this,e,ul,cl,pe,{paddingTop:2,dependencies:3})}}var ml=fl;const dl={enabled:!0,elementContent:()=>{const t=document.createElement("div");return t.innerHTML="New Task",Object.assign(t.style,{position:"absolute",background:"#eee",padding:"0.5em 1em",fontSize:"12px",pointerEvents:"none"}),t}};class wl{constructor(e,n){this.options=Object.assign({},dl,n),this.draggable=new tn(e,{onDrag:this.onDrag.bind(this),dragAllowed:()=>this.options.enabled,resizeAllowed:!1,onDrop:this.onDrop.bind(this),container:document.body,getX:i=>i.pageX,getY:i=>i.pageY,getWidth:()=>0})}onDrag({x:e,y:n}){this.element||(this.element=this.options.elementContent(),document.body.appendChild(this.element),this.options.dragging=!0),this.element.style.top=n+"px",this.element.style.left=e+"px"}onDrop(e){var n,i,o,r;const l=this.options.gantt,s=l.dndManager.getTarget("row",e.mouseEvent);if(s){const a=mt(l.getRowContainer(),e.mouseEvent),u=l.utils.getDateByPosition(a.x);(i=(n=this.options).onsuccess)===null||i===void 0||i.call(n,s,u,l)}else(r=(o=this.options).onfail)===null||r===void 0||r.call(o);document.body.removeChild(this.element),this.options.dragging=!1,this.element=null}}var bl=Ss;export{hl as MomentSvelteGanttDateAdapter,bl as SvelteGantt,ml as SvelteGanttDependencies,wl as SvelteGanttExternal,gl as SvelteGanttTable};
